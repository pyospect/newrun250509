import React from 'react';
import { Play } from 'lucide-react';

export interface RunPlan {
  title: string;
  date: string;
  distance: string;
  duration: string;
  intensity: string;
  details: string;
  downloadUrl?: string;
}

interface SummaryCardProps {
  plan: RunPlan;
  onSaveToCalendar: () => void;
}

const SummaryCard: React.FC<SummaryCardProps> = ({ plan, onSaveToCalendar }) => {
  // Extract distance information from plan
  const distanceValue = plan.distance.replace(/[^0-9.]/g, '');
  
  // Extract pace information if available
  const paceMatch = plan.details.match(/(\d+'?\d*"?\/km)/);
  const pace = paceMatch ? paceMatch[1] : "6'00\"";
  
  return (
    <div className="running-plan-card">
      {/* Logo/brand */}
      <div className="w-full flex flex-col gap-0 mb-1">
        <div className="text-orange-100">
          <svg width="48" height="8" viewBox="0 0 65 10" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1.8073 10H0V5.00705C0 3.62482 0.474646 2.44476 1.42394 1.46685C2.37323 0.488952 3.5142 0 4.84686 0C6.18865 0 7.33419 0.488952 8.28348 1.46685C9.23277 2.44476 9.70742 3.62482 9.70742 5.00705V10H7.90011V5.00705C7.90011 4.14198 7.5989 3.39915 6.99646 2.77856C6.40315 2.16737 5.68662 1.86178 4.84686 1.86178C4.00711 1.86178 3.29057 2.16737 2.69727 2.77856C2.10396 3.39915 1.8073 4.14198 1.8073 5.00705V10Z" fill="#FFF7ED"/>
            <path d="M17.8688 2.48237C17.3302 2.06864 16.7278 1.86178 16.0615 1.86178C15.386 1.86178 14.779 2.06864 14.2405 2.48237C13.7202 2.8961 13.3596 3.42736 13.1588 4.07616H18.9504C18.7496 3.42736 18.3891 2.8961 17.8688 2.48237ZM20.8262 5.92384L13.1588 5.93794C13.3596 6.57734 13.7202 7.1039 14.2405 7.51763C14.779 7.93136 15.386 8.13822 16.0615 8.13822C16.6 8.13822 17.1385 8.01128 17.6771 7.7574C18.243 7.49412 18.6583 7.16032 18.923 6.75599L20.4154 7.79972C19.9864 8.45792 19.3612 8.98919 18.5397 9.39351C17.7273 9.79784 16.9012 10 16.0615 10C14.7197 10 13.5741 9.51105 12.6248 8.53314C11.6756 7.55524 11.2009 6.37988 11.2009 5.00705C11.2009 3.62482 11.6756 2.44476 12.6248 1.46685C13.5741 0.488952 14.7197 0 16.0615 0C17.3941 0 18.5351 0.488952 19.4844 1.46685C20.4337 2.44476 20.9083 3.62482 20.9083 5.00705C20.9083 5.31735 20.8809 5.62294 20.8262 5.92384Z" fill="#FFF7ED"/>
            <path d="M34.2862 0H36.0935V6.02257C36.0935 7.12271 35.7147 8.0583 34.9571 8.82934C34.2086 9.60978 33.3004 10 32.2325 10C31.0276 10 30.0418 9.52515 29.2751 8.57546C28.4992 9.52515 27.5088 10 26.304 10C25.236 10 24.3278 9.60978 23.5793 8.82934C22.8217 8.0583 22.4429 7.12271 22.4429 6.02257V0H24.2502V6.02257C24.2502 6.60555 24.451 7.1039 24.8526 7.51763C25.2543 7.93136 25.738 8.13822 26.304 8.13822C26.8699 8.13822 27.3537 7.93606 27.7553 7.53173C28.1569 7.11801 28.3623 6.61965 28.3714 6.03667V0H30.1787V6.03667C30.1787 6.61965 30.3795 7.11801 30.7811 7.53173C31.1828 7.93606 31.6665 8.13822 32.2325 8.13822C32.7984 8.13822 33.2822 7.93136 33.6838 7.51763C34.0854 7.1039 34.2862 6.60555 34.2862 6.02257V0Z" fill="#FFF7ED"/>
            <path d="M42.5571 0V1.86178C41.7173 1.86178 41.0008 2.16737 40.4075 2.77856C39.8142 3.39915 39.5175 4.14198 39.5175 5.00705V10H37.7102V5.00705C37.7102 3.62482 38.1849 2.44476 39.1342 1.46685C40.0835 0.488952 41.2244 0 42.5571 0Z" fill="#FFF7ED"/>
            <path d="M51.9918 0H53.7991V5.00705C53.7991 6.37988 53.3244 7.55524 52.3752 8.53314C51.4259 9.51105 50.2849 10 48.9522 10C47.6104 10 46.4649 9.51105 45.5156 8.53314C44.5663 7.55524 44.0917 6.37988 44.0917 5.00705V0H45.899V5.00705C45.899 5.87212 46.1956 6.61025 46.7889 7.22144C47.3914 7.83263 48.1125 8.13822 48.9522 8.13822C49.792 8.13822 50.5085 7.83263 51.1018 7.22144C51.6951 6.61025 51.9918 5.87212 51.9918 5.00705V0Z" fill="#FFF7ED"/>
            <path d="M57.0999 10H55.2926V5.00705C55.2926 3.62482 55.7672 2.44476 56.7165 1.46685C57.6658 0.488952 58.8068 0 60.1394 0C61.4812 0 62.6268 0.488952 63.5761 1.46685C64.5254 2.44476 65 3.62482 65 5.00705V10H63.1927V5.00705C63.1927 4.14198 62.8915 3.39915 62.289 2.77856C61.6957 2.16737 60.9792 1.86178 60.1394 1.86178C59.2997 1.86178 58.5832 2.16737 57.9898 2.77856C57.3965 3.39915 57.0999 4.14198 57.0999 5.00705V10Z" fill="#FFF7ED"/>
          </svg>
        </div>
      </div>
      
      {/* Plan title */}
      <div className="w-full flex flex-col">
        <h3 className="running-plan-card-title">{plan.title}</h3>
        <p className="running-plan-card-details">
          거리 {distanceValue}km | 평균 페이스 {pace}
        </p>
      </div>
      
      {/* Play button with Lucide icon */}
      <div 
        className="absolute w-12 h-12 right-4 top-1/2 -translate-y-1/2 bg-white rounded-full flex items-center justify-center cursor-pointer"
        onClick={onSaveToCalendar}
      >
        <Play size={24} fill="#FB923C" color="#FB923C" />
      </div>
    </div>
  );
};

export default SummaryCard; 
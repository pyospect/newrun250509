"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/chat";
exports.ids = ["pages/api/chat"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "@google/generative-ai":
/*!****************************************!*\
  !*** external "@google/generative-ai" ***!
  \****************************************/
/***/ ((module) => {

module.exports = import("@google/generative-ai");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fchat&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fchat.ts&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fchat&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fchat.ts&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_chat_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/chat.ts */ \"(api)/./src/pages/api/chat.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_chat_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_chat_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_chat_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_chat_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/chat\",\n        pathname: \"/api/chat\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_chat_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNoYXQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlMkZwYWdlcyUyRmFwaSUyRmNoYXQudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDb0Q7QUFDcEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLG1EQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxtREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ydW4tcGxhbm5lci8/YWYxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjL3BhZ2VzL2FwaS9jaGF0LnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY2hhdFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NoYXRcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fchat&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fchat.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/lib/aiClient.ts":
/*!*****************************!*\
  !*** ./src/lib/aiClient.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateRunningPlan: () => (/* binding */ generateRunningPlan),\n/* harmony export */   getAiClient: () => (/* binding */ getAiClient)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"@google/generative-ai\");\n/* harmony import */ var _prompts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./prompts */ \"(api)/./src/lib/prompts.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_google_generative_ai__WEBPACK_IMPORTED_MODULE_0__]);\n_google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n// Initialize the Generative AI client\nconst getAiClient = (apiKey)=>{\n    // Use provided API key or look for environment variable\n    const key = apiKey || process.env.GEMINI_API_KEY;\n    if (!key) {\n        throw new Error(\"Google AI API key is required. Please provide it or set GEMINI_API_KEY environment variable.\");\n    }\n    return new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(key);\n};\n// Create a running plan using Google AI API\nconst generateRunningPlan = async (conversationHistory, apiKey)=>{\n    try {\n        const genAI = getAiClient(apiKey);\n        // ìµœì‹  Google AI ëª¨ë¸ ì‚¬ìš©\n        const model = genAI.getGenerativeModel({\n            model: \"gemini-2.0-flash\",\n            generationConfig: {\n                temperature: 0.7,\n                maxOutputTokens: 1000\n            }\n        });\n        // ì™¸ë¶€ íŒŒì¼ì—ì„œ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ê°€ì ¸ì˜¤ê¸°\n        const systemPrompt = _prompts__WEBPACK_IMPORTED_MODULE_1__.runningCoachPrompt;\n        // ëŒ€í™” ì»¨í…ìŠ¤íŠ¸ êµ¬ì„±\n        let chatContext = \"\";\n        // ìµœëŒ€ 8ê°œì˜ ìµœê·¼ ëŒ€í™” í¬í•¨ (ì´ì „ë³´ë‹¤ ë” ë§ì€ ë§¥ë½ ìœ ì§€)\n        const recentMessages = conversationHistory.slice(-8);\n        if (recentMessages.length > 1) {\n            chatContext = \"ì´ì „ ëŒ€í™” ë‚´ìš©:\\n\\n\";\n            recentMessages.forEach((msg)=>{\n                const role = msg.role === \"user\" ? \"ì‚¬ìš©ì\" : \"ì½”ì¹˜\";\n                chatContext += `${role}: ${msg.text}\\n\\n`;\n            });\n        }\n        // ëŒ€í™” ë§¥ë½ì—ì„œ ìˆ˜ì§‘ëœ ì •ë³´ ì¶”ì¶œ\n        const userInfo = extractUserInfoFromContext(conversationHistory);\n        if (Object.keys(userInfo).length > 0) {\n            chatContext += \"\\nì‚¬ìš©ì ì •ë³´:\\n\";\n            Object.entries(userInfo).forEach(([key, value])=>{\n                chatContext += `${key}: ${value}\\n`;\n            });\n            chatContext += \"\\n\";\n        }\n        // ì‚¬ìš©ìì˜ ìµœì‹  ë©”ì‹œì§€ ê°€ì ¸ì˜¤ê¸°\n        const lastUserMessage = getLastUserMessage(conversationHistory);\n        // ì „ì²´ í”„ë¡¬í”„íŠ¸ êµ¬ì„±\n        const fullPrompt = `${systemPrompt}\n    \n${chatContext}\n\nì‚¬ìš©ìì˜ ë©”ì‹œì§€: ${lastUserMessage}`;\n        console.log(\"Calling Google AI API with prompt...\");\n        try {\n            // ìµœì‹  API ë°©ì‹ìœ¼ë¡œ ì§ì ‘ ì½˜í…ì¸  ìƒì„± ìš”ì²­\n            const result = await model.generateContent(fullPrompt);\n            const response = result.response;\n            const text = response.text();\n            console.log(\"API response received successfully\");\n            // JSON ë°ì´í„° ì¶”ì¶œ ì‹œë„\n            let planData = null;\n            try {\n                const jsonMatch = text.match(/```json\\s*({[\\s\\S]*?})\\s*```/);\n                if (jsonMatch && jsonMatch[1]) {\n                    planData = JSON.parse(jsonMatch[1]);\n                }\n            } catch (error) {\n                console.error(\"Failed to parse JSON plan data:\", error);\n            }\n            return {\n                text,\n                planData\n            };\n        } catch (error) {\n            console.error(\"Error with Google AI API:\", error);\n            console.error(\"Error details:\", JSON.stringify(error, null, 2));\n            // API í˜¸ì¶œ ì‹¤íŒ¨ ì‹œ ëª¨ì˜ ì‘ë‹µ ì‚¬ìš©\n            const mockText = mockChatResponse(lastUserMessage, conversationHistory);\n            const mockPlanData = createMockPlanData(lastUserMessage, conversationHistory);\n            return {\n                text: mockText,\n                planData: mockPlanData\n            };\n        }\n    } catch (error) {\n        console.error(\"Error in generateRunningPlan:\", error);\n        // í•­ìƒ ìµœì†Œí•œì˜ ì‘ë‹µ ì œê³µ\n        const mockText = mockChatResponse(\"ëŸ¬ë‹ ê³„íš\", conversationHistory);\n        return {\n            text: mockText,\n            planData: createMockPlanData(\"ëŸ¬ë‹ ê³„íš\", conversationHistory)\n        };\n    }\n};\n// ì‚¬ìš©ìì˜ ë§ˆì§€ë§‰ ë©”ì‹œì§€ ê°€ì ¸ì˜¤ê¸°\nfunction getLastUserMessage(history) {\n    for(let i = history.length - 1; i >= 0; i--){\n        if (history[i].role === \"user\") {\n            return history[i].text;\n        }\n    }\n    return \"ëŸ¬ë‹ ê³„íšì— ëŒ€í•´ ì•Œë ¤ì£¼ì„¸ìš”\"; // ê¸°ë³¸ ë©”ì‹œì§€\n}\n// ëª¨ì˜ ì‘ë‹µ ìƒì„± í•¨ìˆ˜ (API í˜¸ì¶œ ì‹¤íŒ¨ ì‹œ ì‚¬ìš©)\nfunction mockChatResponse(message, history) {\n    // ëŒ€í™” íˆìŠ¤í† ë¦¬ê°€ ìˆìœ¼ë©´ ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œ\n    const userInfo = history ? extractUserInfoFromContext(history) : {};\n    // ìˆ˜ì§‘ëœ ì •ë³´ì— ë”°ë¥¸ ë§ì¶¤í˜• ì‘ë‹µ\n    const hasExperience = \"ê²½í—˜ ìˆ˜ì¤€\" in userInfo;\n    const hasDistance = \"ëª©í‘œ ê±°ë¦¬\" in userInfo;\n    const hasDate = \"ë‚ ì§œ ì‹œê°„\" in userInfo;\n    const hasIntensity = \"ê°•ë„\" in userInfo;\n    const hasTime = \"ëª©í‘œ ì‹œê°„\" in userInfo || \"ëª©í‘œ í˜ì´ìŠ¤\" in userInfo;\n    const hasFrequency = \"ì£¼ê°„ ë¹ˆë„\" in userInfo;\n    const hasGoal = \"ëª©í‘œ\" in userInfo;\n    const wantsNewPlan = \"ìƒˆ ê³„íš ìš”ì²­\" in userInfo;\n    // ìƒˆ ê³„íš ìš”ì²­ ì²˜ë¦¬\n    if (wantsNewPlan) {\n        const newPlanResponses = [\n            \"ìƒˆë¡œìš´ ëŸ¬ë‹ ê³„íšì„ ì›í•˜ì‹œëŠ”êµ°ìš”! \\uD83D\\uDE0A ì–´ë–¤ ê±°ë¦¬ì™€ ë‚œì´ë„ë¡œ ìƒˆë¡­ê²Œ ë§Œë“¤ì–´ë“œë¦´ê¹Œìš”?\",\n            \"ê¸°ì¡´ ê³„íšì„ ë³€ê²½í•´ë“œë¦´ê²Œìš”! ì–´ë–¤ ê±°ë¦¬ë¡œ ë‹¬ë¦¬ê³  ì‹¶ìœ¼ì‹ ê°€ìš”? ê·¸ë¦¬ê³  ì–¸ì œ ë‹¬ë¦¬ì‹¤ ê³„íšì¸ì§€ë„ ì•Œë ¤ì£¼ì„¸ìš”~\",\n            \"ìƒˆ ëŸ¬ë‹ í”Œëœì„ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”! ëª©í‘œ ê±°ë¦¬ì™€ ë‹¬ë¦¬ê³  ì‹¶ì€ ë‚ ì§œë¥¼ ì•Œë ¤ì£¼ì‹œë©´ ë°”ë¡œ ì¤€ë¹„í•´ë“œë¦´ê²Œìš” \\uD83D\\uDC4D\"\n        ];\n        return randomSelect(newPlanResponses);\n    }\n    // ì •ë³´ê°€ ì¶©ë¶„í•˜ë©´ í”Œëœ ì œê³µ\n    if (hasExperience && hasDistance && hasDate && hasIntensity && hasTime) {\n        const experience = userInfo[\"ê²½í—˜ ìˆ˜ì¤€\"] || \"ì´ˆë³´ì\";\n        const distance = userInfo[\"ëª©í‘œ ê±°ë¦¬\"] || \"5km\";\n        const date = userInfo[\"ë‚ ì§œ ì‹œê°„\"] || \"ë‚´ì¼ ì•„ì¹¨\";\n        const time = userInfo[\"ëª©í‘œ ì‹œê°„\"] || userInfo[\"ëª©í‘œ í˜ì´ìŠ¤\"] || \"\";\n        const intensity = userInfo[\"ê°•ë„\"] || \"ì¤‘ê°„\";\n        const emojiOptions = [\n            \"\\uD83D\\uDE0A\",\n            \"\\uD83D\\uDC4D\",\n            \"\\uD83C\\uDFC3â€â™€ï¸\",\n            \"\\uD83C\\uDFC3\",\n            \"\\uD83D\\uDCAA\",\n            \"âœ¨\",\n            \"\\uD83C\\uDF1F\"\n        ];\n        const emoji = emojiOptions[Math.floor(Math.random() * emojiOptions.length)];\n        const planResponses = [\n            `${date}ì— ${distance} ë‹¬ë¦¬ê¸° í”Œëœì´ ì¤€ë¹„ëì–´ìš”! ${emoji} ${time ? time + \" ëª©í‘œë¡œ \" : \"\"}${intensity} ê°•ë„ë¡œ ì‹œì‘í•´ë³´ì„¸ìš”. ì•„ë˜ ìœ„ì ¯ì—ì„œ ì„¸ë¶€ ê³„íšì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆì–´ìš”~`,\n            `${experience} ìˆ˜ì¤€ì— ë§ëŠ” ${distance} í”Œëœì„ ë§Œë“¤ì—ˆì–´ìš”! ${emoji} ${date}ì— ${intensity} ê°•ë„ë¡œ ì§„í–‰í•˜ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ì•„ìš”. ì„¸ë¶€ ê³„íšì€ ì•„ë˜ ì¹´ë“œì—ì„œ í™•ì¸í•˜ì„¸ìš”!`,\n            `${date} ${distance} ëŸ¬ë‹ ê³„íšì´ ì™„ì„±ëì–´ìš”! ${emoji} ${time}${intensity} ê°•ë„ë¡œ ë‹¬ë¦¬ëŠ” ë§ì¶¤ í”Œëœì´ë‹ˆ ì°¸ê³ í•˜ì„¸ìš”. ì¦ê±°ìš´ ëŸ¬ë‹ ë˜ì„¸ìš”~`\n        ];\n        return randomSelect(planResponses);\n    }\n    // ì •ë³´ ìˆ˜ì§‘ ë‹¨ê³„ - ì¹œê·¼í•œ ë§íˆ¬ë¡œ ë³€ê²½\n    if (!hasDistance) {\n        const distanceResponses = [\n            \"ì•ˆë…•í•˜ì„¸ìš”! ë‰´ëŸ° ëŸ¬ë‹ ì½”ì¹˜ì˜ˆìš”~ \\uD83D\\uDE0A ì–´ë–¤ ê±°ë¦¬ë¥¼ ëª©í‘œë¡œ í•˜ê³  ê³„ì‹ ê°€ìš”? 5km, 10km ë“± ì•Œë ¤ì£¼ì‹œë©´ ë§ì¶¤ í”Œëœì„ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”!\",\n            \"ë°˜ê°€ì›Œìš”! ëŸ¬ë‹ í”Œëœì„ ìœ„í•´ ëª©í‘œ ê±°ë¦¬ë¶€í„° ì•Œë ¤ì£¼ì„¸ìš”~ 5km, 10km ë“± ë‹¬ë¦¬ê³  ì‹¶ì€ ê±°ë¦¬ê°€ ìˆìœ¼ì‹ ê°€ìš”? \\uD83C\\uDFC3â€â™€ï¸\",\n            \"ì•ˆë…•í•˜ì„¸ìš”! ë‰´ëŸ° ëŸ¬ë‹ ì½”ì¹˜ì…ë‹ˆë‹¤~ ì–´ë–¤ ê±°ë¦¬ë¡œ ëŸ¬ë‹ ê³„íšì„ ì„¸ì›Œë“œë¦´ê¹Œìš”? ëª©í‘œ ê±°ë¦¬ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”! \\uD83D\\uDE0A\"\n        ];\n        return randomSelect(distanceResponses);\n    }\n    if (hasDistance && !hasExperience) {\n        return `${userInfo[\"ëª©í‘œ ê±°ë¦¬\"]} ëŸ¬ë‹ í”Œëœì´êµ°ìš”! ğŸ‘ í˜¹ì‹œ ë‹¬ë¦¬ê¸° ê²½í—˜ì€ ì–´ëŠ ì •ë„ì¸ê°€ìš”? ì´ˆë³´ì, ì¤‘ê¸‰ì, ê³ ê¸‰ì ì¤‘ì— ê³¨ë¼ì£¼ì‹œë©´ ë§ì¶¤ í”Œëœì„ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”~`;\n    }\n    if (hasDistance && hasExperience && !hasDate) {\n        return `${userInfo[\"ê²½í—˜ ìˆ˜ì¤€\"]}ë¥¼ ìœ„í•œ ${userInfo[\"ëª©í‘œ ê±°ë¦¬\"]} í”Œëœì´êµ°ìš”! ğŸ˜Š ì–¸ì œ ë‹¬ë¦¬ì‹¤ ê³„íšì¸ê°€ìš”? ë‚´ì¼, ì£¼ë§ ë“± ì•Œë ¤ì£¼ì‹œë©´ ë” êµ¬ì²´ì ì¸ ê³„íšì„ ì„¸ì›Œë“œë¦´ê²Œìš”~`;\n    }\n    if (hasDistance && hasExperience && hasDate && !hasIntensity) {\n        return `${userInfo[\"ë‚ ì§œ ì‹œê°„\"]}ì— ${userInfo[\"ëª©í‘œ ê±°ë¦¬\"]} ë‹¬ë¦¬ì‹¤ ê³„íšì´êµ°ìš”! ì–´ëŠ ì •ë„ ê°•ë„ë¡œ ë‹¬ë¦¬ê³  ì‹¶ìœ¼ì‹ ê°€ìš”? ê°€ë²¼ì›€, ì¤‘ê°„, ë†’ìŒ ì¤‘ì— ì•Œë ¤ì£¼ì„¸ìš”~ ğŸ’ª`;\n    }\n    if (hasDistance && hasExperience && hasDate && hasIntensity && !hasTime) {\n        return `ê±°ì˜ ë‹¤ ì™”ì–´ìš”! ğŸ‘ ${userInfo[\"ëª©í‘œ ê±°ë¦¬\"]}ë¥¼ ì™„ì£¼í•˜ëŠ”ë° ëª©í‘œ ì‹œê°„ì´ë‚˜, í˜ì´ìŠ¤ê°€ ìˆìœ¼ì‹ ê°€ìš”? ì˜ˆë¥¼ ë“¤ì–´ \"30ë¶„ ì•ˆì—\" ë˜ëŠ” \"í‚¬ë¡œë‹¹ 6ë¶„\" ê°™ì€ ëª©í‘œìš”!`;\n    }\n    // ì¸ì‚¬ ì‘ë‹µ\n    if (message.toLowerCase().includes(\"ì•ˆë…•\") || message.toLowerCase().includes(\"hi\") || message.toLowerCase().includes(\"hello\")) {\n        const greetings = [\n            \"ì•ˆë…•í•˜ì„¸ìš”! ë‰´ëŸ° ëŸ¬ë‹ ì½”ì¹˜ì˜ˆìš”~ \\uD83D\\uDE0A ì˜¤ëŠ˜ì€ ì–´ë–¤ ë‹¬ë¦¬ê¸° ê³„íšì„ ë„ì™€ë“œë¦´ê¹Œìš”?\",\n            \"ë°˜ê°€ì›Œìš”! ë‰´ëŸ° ëŸ¬ë‹ ì½”ì¹˜ì…ë‹ˆë‹¤. ì–´ë–¤ ë‹¬ë¦¬ê¸° ëª©í‘œë¥¼ ê°–ê³  ê³„ì‹ ê°€ìš”? ë„ì™€ë“œë¦´ê²Œìš”! \\uD83D\\uDC4B\",\n            \"ì•ˆë…•í•˜ì„¸ìš”! ë‹¬ë¦¬ê¸° ê³„íšì„ í•¨ê»˜ ì„¸ì›Œë³¼ê¹Œìš”? ì–´ë–¤ ê±°ë¦¬ë¥¼ ëª©í‘œë¡œ í•˜ê³  ê³„ì‹ ì§€ ì•Œë ¤ì£¼ì„¸ìš”~ \\uD83C\\uDFC3â€â™€ï¸\"\n        ];\n        return randomSelect(greetings);\n    }\n    // ê¸°ë³¸ ì‘ë‹µ\n    const defaultResponses = [\n        \"ë‰´ëŸ° ëŸ¬ë‹ ì½”ì¹˜ì˜ˆìš”~ \\uD83D\\uDCAA ë§ì¶¤ ëŸ¬ë‹ í”Œëœì„ ìœ„í•´ ëª©í‘œ ê±°ë¦¬ì™€ ë‹¬ë¦¬ê¸° ê²½í—˜ì„ ì•Œë ¤ì£¼ì„¸ìš”!\",\n        \"ì¦ê±°ìš´ ëŸ¬ë‹ì„ ìœ„í•œ ë§ì¶¤ í”Œëœì„ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”! \\uD83D\\uDE0A ëª©í‘œ ê±°ë¦¬, ê²½í—˜ ìˆ˜ì¤€, ê·¸ë¦¬ê³  ì–¸ì œ ë‹¬ë¦¬ì‹¤ ê±´ì§€ ì•Œë ¤ì£¼ì„¸ìš”~\",\n        \"ì•ˆë…•í•˜ì„¸ìš”! ë‰´ëŸ°ê³¼ í•¨ê»˜ ë‹¬ë ¤ë³¼ê¹Œìš”? \\uD83C\\uDFC3â€â™€ï¸ ì–´ë–¤ ê±°ë¦¬ë¥¼ ëª©í‘œë¡œ í•˜ì‹œëŠ”ì§€, ê·¸ë¦¬ê³  ë‹¬ë¦¬ê¸° ê²½í—˜ì€ ì–´ëŠ ì •ë„ì¸ì§€ ì•Œë ¤ì£¼ì„¸ìš”!\"\n    ];\n    return randomSelect(defaultResponses);\n}\n// ëª¨ì˜ í”Œëœ ë°ì´í„° ìƒì„± í•¨ìˆ˜\nfunction createMockPlanData(message, history) {\n    // ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œ\n    const userInfo = history ? extractUserInfoFromContext(history) : {};\n    // ê¸°ë³¸ê°’ ì„¤ì •\n    const experience = userInfo[\"ê²½í—˜ ìˆ˜ì¤€\"] || \"ì´ˆë³´ì\";\n    const targetDistance = userInfo[\"ëª©í‘œ ê±°ë¦¬\"] || \"5km\";\n    const frequency = userInfo[\"ì£¼ê°„ ë¹ˆë„\"] || \"ì£¼ 3íšŒ\";\n    const goal = userInfo[\"ëª©í‘œ\"] || \"\";\n    const now = new Date();\n    // ëœë¤ ë¯¸ë˜ ë‚ ì§œ ìƒì„± (1~7ì¼ ì´ë‚´)\n    const futureDate = new Date();\n    futureDate.setDate(now.getDate() + Math.floor(Math.random() * 7) + 1);\n    // ì˜¤ì „ 6ì‹œ ~ ì˜¤ì „ 9ì‹œ ì‚¬ì´ ëœë¤ ì‹œê°„\n    const hour = 6 + Math.floor(Math.random() * 4);\n    const minute = Math.floor(Math.random() * 6) * 10; // 0, 10, 20, 30, 40, 50\n    const formattedDate = `${futureDate.getFullYear()}ë…„ ${futureDate.getMonth() + 1}ì›” ${futureDate.getDate()}ì¼ (${getKoreanDayOfWeek(futureDate)}) ì˜¤ì „ ${hour}:${minute < 10 ? \"0\" + minute : minute}`;\n    // ì¶”ì¶œëœ ê±°ë¦¬ ê°’ ì‚¬ìš©\n    const distanceMatch = targetDistance.match(/(\\d+)/);\n    const distance = distanceMatch ? parseInt(distanceMatch[1]) : 5;\n    // ì´ˆë³´ì í”Œëœ\n    if (experience.includes(\"ì´ˆë³´\") || experience.includes(\"beginner\")) {\n        return {\n            title: `${targetDistance} ì´ˆë³´ì ëŸ¬ë‹ í”Œëœ`,\n            date: formattedDate,\n            distance: targetDistance,\n            duration: `ì•½ ${distance * 7 + Math.floor(Math.random() * 10)}ë¶„`,\n            intensity: \"ê°€ë²¼ì›€\",\n            details: `ì¤€ë¹„ìš´ë™ 5ë¶„ â†’ ${Math.floor(Math.random() * 2) + 2}ë¶„ ê±·ê¸°/${Math.floor(Math.random() * 2) + 1}ë¶„ ë‹¬ë¦¬ê¸° ë°˜ë³µ(ì´ ${distance * 5}ë¶„) â†’ ì •ë¦¬ìš´ë™ 5ë¶„`\n        };\n    }\n    // ì¤‘ê¸‰ì í”Œëœ\n    if (experience.includes(\"ì¤‘ê¸‰\") || experience.includes(\"intermediate\")) {\n        return {\n            title: `${targetDistance} ì¤‘ê¸‰ì ëŸ¬ë‹ í”Œëœ`,\n            date: formattedDate,\n            distance: targetDistance,\n            duration: `ì•½ ${distance * 6 + Math.floor(Math.random() * 10)}ë¶„`,\n            intensity: \"ì¤‘ê°„\",\n            details: `ì¤€ë¹„ìš´ë™ 8ë¶„ â†’ ${targetDistance} ì¼ì • í˜ì´ìŠ¤ë¡œ ë‹¬ë¦¬ê¸°(${Math.floor(Math.random() * 2) + 5}:${Math.floor(Math.random() * 6)}0/km) â†’ ì •ë¦¬ìš´ë™ 5ë¶„`\n        };\n    }\n    // ê³ ê¸‰ì í”Œëœ\n    if (experience.includes(\"ê³ ê¸‰\") || experience.includes(\"advanced\")) {\n        return {\n            title: `${targetDistance} ê³ ê¸‰ì ì¸í„°ë²Œ í›ˆë ¨`,\n            date: formattedDate,\n            distance: targetDistance,\n            duration: `ì•½ ${distance * 5 + Math.floor(Math.random() * 10)}ë¶„`,\n            intensity: \"ë†’ìŒ\",\n            details: `ì¤€ë¹„ìš´ë™ 10ë¶„ â†’ ${Math.floor(Math.random() * 2) + 3}00m ì¸í„°ë²Œ x ${Math.floor(Math.random() * 3) + 6}íšŒ(ë¹ ë¥¸ í˜ì´ìŠ¤) â†’ ì •ë¦¬ìš´ë™ 8ë¶„`\n        };\n    }\n    // ë‹¬ë¦¬ê¸° ê±°ë¦¬ì— ë”°ë¥¸ ê¸°ë³¸ í”Œëœ\n    return {\n        title: `${targetDistance} ${frequency} ëŸ¬ë‹ í”Œëœ${goal ? ` (${goal})` : \"\"}`,\n        date: formattedDate,\n        distance: targetDistance,\n        duration: `ì•½ ${distance * 6 + Math.floor(Math.random() * 15)}ë¶„`,\n        intensity: \"ì¤‘ê°„\",\n        details: `ì¤€ë¹„ìš´ë™ ${5 + Math.floor(Math.random() * 5)}ë¶„ â†’ ${Math.floor(Math.random() * 2) + 5}:${Math.floor(Math.random() * 6)}0/km í˜ì´ìŠ¤ë¡œ ${targetDistance} ë‹¬ë¦¬ê¸° â†’ ì •ë¦¬ìš´ë™ ${5 + Math.floor(Math.random() * 3)}ë¶„`\n    };\n}\n// í•œêµ­ì–´ ìš”ì¼ ë³€í™˜ í•¨ìˆ˜\nfunction getKoreanDayOfWeek(date) {\n    const days = [\n        \"ì¼\",\n        \"ì›”\",\n        \"í™”\",\n        \"ìˆ˜\",\n        \"ëª©\",\n        \"ê¸ˆ\",\n        \"í† \"\n    ];\n    return days[date.getDay()];\n}\n// ë°°ì—´ì—ì„œ ë¬´ì‘ìœ„ ìš”ì†Œ ì„ íƒ í—¬í¼ í•¨ìˆ˜\nfunction randomSelect(arr) {\n    return arr[Math.floor(Math.random() * arr.length)];\n}\n// ëŒ€í™” ë§¥ë½ì—ì„œ ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œí•˜ëŠ” í—¬í¼ í•¨ìˆ˜\nfunction extractUserInfoFromContext(history) {\n    const userInfo = {};\n    // ê²½í—˜ ìˆ˜ì¤€ ì¶”ì¶œ\n    const experienceRegex = /(ì´ˆë³´ì|ì´ˆë³´|ì…ë¬¸ì|beginner|ì¤‘ê¸‰ì|ì¤‘ê¸‰|intermediate|ê³ ê¸‰ì|ê³ ê¸‰|advanced)/i;\n    const distanceRegex = /(\\d+)[\\s]*(km|í‚¬ë¡œë¯¸í„°|kilometer|k|í‚¬ë¡œ)/i;\n    const frequencyRegex = /(ì£¼|week)[\\s]*(\\d+)[\\s]*(íšŒ|ë²ˆ|times|time)/i;\n    const timeRegex = /(\\d+)[\\s]*(ë¶„|ì‹œê°„|hours?|minutes?|mins?)/i;\n    const paceRegex = /(í˜ì´ìŠ¤|pace|í‚¬ë¡œ[ë‹¹ë¯¸]|km[ë‹¹ë¯¸])[\\s]*(\\d+)[\\s]*(ë¶„|ì´ˆ|ì´ˆ?)/i;\n    const dateRegex = /(ì˜¤ëŠ˜|ë‚´ì¼|ëª¨ë ˆ|ë‹¤ìŒì£¼|weekend|ì£¼ë§|ì›”ìš”ì¼|í™”ìš”ì¼|ìˆ˜ìš”ì¼|ëª©ìš”ì¼|ê¸ˆìš”ì¼|í† ìš”ì¼|ì¼ìš”ì¼|ì•„ì¹¨|ì ì‹¬|ì €ë…|ì˜¤ì „|ì˜¤í›„|ìƒˆë²½)/i;\n    const intensityRegex = /(ê°€ë³|ë‚®|ì‰½|í¸ì•ˆ|ì¤‘ê°„|ë³´í†µ|ë†’|ê°•í•œ?|hard|moderate|easy|light|intense)/i;\n    const goalRegex = /(ì²´ì¤‘[\\s]*ê°ëŸ‰|ë‹¤ì´ì–´íŠ¸|ëŒ€íšŒ|ë§ˆë¼í†¤|ì²´ë ¥|ê±´ê°•|health|weight|diet|race|competition|marathon)/i;\n    for (const message of history){\n        if (message.role === \"user\") {\n            const text = message.text.toLowerCase();\n            // ê²½í—˜ ìˆ˜ì¤€ ë§¤ì¹­\n            const expMatch = text.match(experienceRegex);\n            if (expMatch && !userInfo[\"ê²½í—˜ ìˆ˜ì¤€\"]) {\n                userInfo[\"ê²½í—˜ ìˆ˜ì¤€\"] = expMatch[0];\n            }\n            // ê±°ë¦¬ ë§¤ì¹­\n            const distMatch = text.match(distanceRegex);\n            if (distMatch && !userInfo[\"ëª©í‘œ ê±°ë¦¬\"]) {\n                userInfo[\"ëª©í‘œ ê±°ë¦¬\"] = `${distMatch[1]}km`;\n            }\n            // ë¹ˆë„ ë§¤ì¹­\n            const freqMatch = text.match(frequencyRegex);\n            if (freqMatch && !userInfo[\"ì£¼ê°„ ë¹ˆë„\"]) {\n                userInfo[\"ì£¼ê°„ ë¹ˆë„\"] = `ì£¼ ${freqMatch[2]}íšŒ`;\n            }\n            // ì‹œê°„ ëª©í‘œ ë§¤ì¹­\n            const timeMatch = text.match(timeRegex);\n            if (timeMatch && !userInfo[\"ëª©í‘œ ì‹œê°„\"]) {\n                const unit = timeMatch[2].includes(\"ì‹œ\") || timeMatch[2].includes(\"hour\") ? \"ì‹œê°„\" : \"ë¶„\";\n                userInfo[\"ëª©í‘œ ì‹œê°„\"] = `${timeMatch[1]}${unit}`;\n            }\n            // í˜ì´ìŠ¤ ë§¤ì¹­\n            const paceMatch = text.match(paceRegex);\n            if (paceMatch && !userInfo[\"ëª©í‘œ í˜ì´ìŠ¤\"]) {\n                userInfo[\"ëª©í‘œ í˜ì´ìŠ¤\"] = `í‚¬ë¡œë‹¹ ${paceMatch[2]}ë¶„`;\n            }\n            // ë‚ ì§œ ë§¤ì¹­\n            const dateMatch = text.match(dateRegex);\n            if (dateMatch && !userInfo[\"ë‚ ì§œ ì‹œê°„\"]) {\n                userInfo[\"ë‚ ì§œ ì‹œê°„\"] = dateMatch[0];\n            }\n            // ê°•ë„ ë§¤ì¹­\n            const intensityMatch = text.match(intensityRegex);\n            if (intensityMatch && !userInfo[\"ê°•ë„\"]) {\n                const intensity = intensityMatch[0];\n                if (intensity.includes(\"ê°€ë³\") || intensity.includes(\"ë‚®\") || intensity.includes(\"ì‰½\") || intensity.includes(\"í¸ì•ˆ\") || intensity.includes(\"easy\") || intensity.includes(\"light\")) {\n                    userInfo[\"ê°•ë„\"] = \"ê°€ë²¼ì›€\";\n                } else if (intensity.includes(\"ì¤‘ê°„\") || intensity.includes(\"ë³´í†µ\") || intensity.includes(\"moderate\")) {\n                    userInfo[\"ê°•ë„\"] = \"ì¤‘ê°„\";\n                } else {\n                    userInfo[\"ê°•ë„\"] = \"ë†’ìŒ\";\n                }\n            }\n            // ëª©í‘œ ë§¤ì¹­\n            const goalMatch = text.match(goalRegex);\n            if (goalMatch && !userInfo[\"ëª©í‘œ\"]) {\n                userInfo[\"ëª©í‘œ\"] = goalMatch[0];\n            }\n            // ìƒˆ ê³„íš ìš”ì²­ ì—¬ë¶€ (ìœ„ì ¯ ì‚­ì œ/ì¬ìƒì„± ê´€ë ¨)\n            if (text.includes(\"ìƒˆë¡œìš´\") || text.includes(\"ìƒˆ ê³„íš\") || text.includes(\"ë‹¤ì‹œ\") || text.includes(\"ë°”ê¿”\") || text.includes(\"ë³€ê²½\") || text.includes(\"ì‚­ì œ\") || text.includes(\"ì§€ì›Œ\") || text.includes(\"ì—†ì• \") || text.includes(\"ì·¨ì†Œ\")) {\n                userInfo[\"ìƒˆ ê³„íš ìš”ì²­\"] = \"true\";\n            }\n        }\n    }\n    return userInfo;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM1RixRQUFRLENBQUMsS0FBSyxFQUFFO2dCQUNoQ0EsUUFBUSxDQUFDLEtBQUssR0FBRzRGLFNBQVMsQ0FBQyxFQUFFO1lBQy9CO1lBRUEsNEJBQTRCO1lBQzVCLElBQUk3RixLQUFLb0QsUUFBUSxDQUFDLFVBQVVwRCxLQUFLb0QsUUFBUSxDQUFDLFdBQVdwRCxLQUFLb0QsUUFBUSxDQUFDLFNBQy9EcEQsS0FBS29ELFFBQVEsQ0FBQyxTQUFTcEQsS0FBS29ELFFBQVEsQ0FBQyxTQUFTcEQsS0FBS29ELFFBQVEsQ0FBQyxTQUM1RHBELEtBQUtvRCxRQUFRLENBQUMsU0FBU3BELEtBQUtvRCxRQUFRLENBQUMsU0FBU3BELEtBQUtvRCxRQUFRLENBQUMsT0FBTztnQkFDckVuRCxRQUFRLENBQUMsVUFBVSxHQUFHO1lBQ3hCO1FBQ0Y7SUFDRjtJQUVBLE9BQU9BO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ydW4tcGxhbm5lci8uL3NyYy9saWIvYWlDbGllbnQudHM/NTBkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHb29nbGVHZW5lcmF0aXZlQUksIEhhcm1DYXRlZ29yeSwgSGFybUJsb2NrVGhyZXNob2xkIH0gZnJvbSAnQGdvb2dsZS9nZW5lcmF0aXZlLWFpJztcbmltcG9ydCB7IHJ1bm5pbmdDb2FjaFByb21wdCB9IGZyb20gJy4vcHJvbXB0cyc7XG5cbi8vIEluaXRpYWxpemUgdGhlIEdlbmVyYXRpdmUgQUkgY2xpZW50XG5leHBvcnQgY29uc3QgZ2V0QWlDbGllbnQgPSAoYXBpS2V5Pzogc3RyaW5nKSA9PiB7XG4gIC8vIFVzZSBwcm92aWRlZCBBUEkga2V5IG9yIGxvb2sgZm9yIGVudmlyb25tZW50IHZhcmlhYmxlXG4gIGNvbnN0IGtleSA9IGFwaUtleSB8fCBwcm9jZXNzLmVudi5HRU1JTklfQVBJX0tFWTtcbiAgXG4gIGlmICgha2V5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdHb29nbGUgQUkgQVBJIGtleSBpcyByZXF1aXJlZC4gUGxlYXNlIHByb3ZpZGUgaXQgb3Igc2V0IEdFTUlOSV9BUElfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlLicpO1xuICB9XG4gIFxuICByZXR1cm4gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSShrZXkpO1xufTtcblxuLy8gQ3JlYXRlIGEgcnVubmluZyBwbGFuIHVzaW5nIEdvb2dsZSBBSSBBUElcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVJ1bm5pbmdQbGFuID0gYXN5bmMgKFxuICBjb252ZXJzYXRpb25IaXN0b3J5OiB7IHJvbGU6ICd1c2VyJyB8ICdtb2RlbCc7IHRleHQ6IHN0cmluZyB9W10sXG4gIGFwaUtleT86IHN0cmluZ1xuKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZ2VuQUkgPSBnZXRBaUNsaWVudChhcGlLZXkpO1xuICAgIFxuICAgIC8vIOy1nOyLoCBHb29nbGUgQUkg66qo6424IOyCrOyaqVxuICAgIGNvbnN0IG1vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHtcbiAgICAgIG1vZGVsOiBcImdlbWluaS0yLjAtZmxhc2hcIiwgLy8g7LWc7IugIOuqqOuNuOuqhSAo7Iuk7KCcIOyhtOyerO2VmOuKlCDrqqjrjbgpXG4gICAgICBnZW5lcmF0aW9uQ29uZmlnOiB7XG4gICAgICAgIHRlbXBlcmF0dXJlOiAwLjcsXG4gICAgICAgIG1heE91dHB1dFRva2VuczogMTAwMCxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgXG4gICAgLy8g7Jm467aAIO2MjOydvOyXkOyEnCDsi5zsiqTthZwg7ZSE66Gs7ZSE7Yq4IOqwgOyguOyYpOq4sFxuICAgIGNvbnN0IHN5c3RlbVByb21wdCA9IHJ1bm5pbmdDb2FjaFByb21wdDtcbiAgICBcbiAgICAvLyDrjIDtmZQg7Luo7YWN7Iqk7Yq4IOq1rOyEsVxuICAgIGxldCBjaGF0Q29udGV4dCA9IFwiXCI7XG4gICAgXG4gICAgLy8g7LWc64yAIDjqsJzsnZgg7LWc6re8IOuMgO2ZlCDtj6ztlaggKOydtOyghOuztOuLpCDrjZQg66eO7J2AIOunpeudvSDsnKDsp4ApXG4gICAgY29uc3QgcmVjZW50TWVzc2FnZXMgPSBjb252ZXJzYXRpb25IaXN0b3J5LnNsaWNlKC04KTtcbiAgICBpZiAocmVjZW50TWVzc2FnZXMubGVuZ3RoID4gMSkge1xuICAgICAgY2hhdENvbnRleHQgPSBcIuydtOyghCDrjIDtmZQg64K07JqpOlxcblxcblwiO1xuICAgICAgcmVjZW50TWVzc2FnZXMuZm9yRWFjaChtc2cgPT4ge1xuICAgICAgICBjb25zdCByb2xlID0gbXNnLnJvbGUgPT09ICd1c2VyJyA/ICfsgqzsmqnsnpAnIDogJ+y9lOy5mCc7XG4gICAgICAgIGNoYXRDb250ZXh0ICs9IGAke3JvbGV9OiAke21zZy50ZXh0fVxcblxcbmA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8g64yA7ZmUIOunpeudveyXkOyEnCDsiJjsp5HrkJwg7KCV67O0IOy2lOy2nFxuICAgIGNvbnN0IHVzZXJJbmZvID0gZXh0cmFjdFVzZXJJbmZvRnJvbUNvbnRleHQoY29udmVyc2F0aW9uSGlzdG9yeSk7XG4gICAgaWYgKE9iamVjdC5rZXlzKHVzZXJJbmZvKS5sZW5ndGggPiAwKSB7XG4gICAgICBjaGF0Q29udGV4dCArPSBcIlxcbuyCrOyaqeyekCDsoJXrs7Q6XFxuXCI7XG4gICAgICBPYmplY3QuZW50cmllcyh1c2VySW5mbykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGNoYXRDb250ZXh0ICs9IGAke2tleX06ICR7dmFsdWV9XFxuYDtcbiAgICAgIH0pO1xuICAgICAgY2hhdENvbnRleHQgKz0gXCJcXG5cIjtcbiAgICB9XG4gICAgXG4gICAgLy8g7IKs7Jqp7J6Q7J2YIOy1nOyLoCDrqZTsi5zsp4Ag6rCA7KC47Jik6riwXG4gICAgY29uc3QgbGFzdFVzZXJNZXNzYWdlID0gZ2V0TGFzdFVzZXJNZXNzYWdlKGNvbnZlcnNhdGlvbkhpc3RvcnkpO1xuICAgIFxuICAgIC8vIOyghOyytCDtlITroaztlITtirgg6rWs7ISxXG4gICAgY29uc3QgZnVsbFByb21wdCA9IGAke3N5c3RlbVByb21wdH1cbiAgICBcbiR7Y2hhdENvbnRleHR9XG5cbuyCrOyaqeyekOydmCDrqZTsi5zsp4A6ICR7bGFzdFVzZXJNZXNzYWdlfWA7XG5cbiAgICBjb25zb2xlLmxvZyhcIkNhbGxpbmcgR29vZ2xlIEFJIEFQSSB3aXRoIHByb21wdC4uLlwiKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8g7LWc7IugIEFQSSDrsKnsi53snLzroZwg7KeB7KCRIOy9mO2FkOy4oCDsg53shLEg7JqU7LKtXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2RlbC5nZW5lcmF0ZUNvbnRlbnQoZnVsbFByb21wdCk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdC5yZXNwb25zZTtcbiAgICAgIGNvbnN0IHRleHQgPSByZXNwb25zZS50ZXh0KCk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKFwiQVBJIHJlc3BvbnNlIHJlY2VpdmVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIFxuICAgICAgLy8gSlNPTiDrjbDsnbTthLAg7LaU7LacIOyLnOuPhFxuICAgICAgbGV0IHBsYW5EYXRhID0gbnVsbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGpzb25NYXRjaCA9IHRleHQubWF0Y2goL2BgYGpzb25cXHMqKHtbXFxzXFxTXSo/fSlcXHMqYGBgLyk7XG4gICAgICAgIGlmIChqc29uTWF0Y2ggJiYganNvbk1hdGNoWzFdKSB7XG4gICAgICAgICAgcGxhbkRhdGEgPSBKU09OLnBhcnNlKGpzb25NYXRjaFsxXSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBKU09OIHBsYW4gZGF0YTonLCBlcnJvcik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRleHQsXG4gICAgICAgIHBsYW5EYXRhXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB3aXRoIEdvb2dsZSBBSSBBUEk6JywgZXJyb3IpO1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGV0YWlsczonLCBKU09OLnN0cmluZ2lmeShlcnJvciwgbnVsbCwgMikpO1xuICAgICAgXG4gICAgICAvLyBBUEkg7Zi47LacIOyLpO2MqCDsi5wg66qo7J2YIOydkeuLtSDsgqzsmqlcbiAgICAgIGNvbnN0IG1vY2tUZXh0ID0gbW9ja0NoYXRSZXNwb25zZShsYXN0VXNlck1lc3NhZ2UsIGNvbnZlcnNhdGlvbkhpc3RvcnkpO1xuICAgICAgY29uc3QgbW9ja1BsYW5EYXRhID0gY3JlYXRlTW9ja1BsYW5EYXRhKGxhc3RVc2VyTWVzc2FnZSwgY29udmVyc2F0aW9uSGlzdG9yeSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRleHQ6IG1vY2tUZXh0LFxuICAgICAgICBwbGFuRGF0YTogbW9ja1BsYW5EYXRhXG4gICAgICB9O1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBnZW5lcmF0ZVJ1bm5pbmdQbGFuOicsIGVycm9yKTtcbiAgICBcbiAgICAvLyDtla3sg4Eg7LWc7IaM7ZWc7J2YIOydkeuLtSDsoJzqs7VcbiAgICBjb25zdCBtb2NrVGV4dCA9IG1vY2tDaGF0UmVzcG9uc2UoXCLrn6zri50g6rOE7ZqNXCIsIGNvbnZlcnNhdGlvbkhpc3RvcnkpO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiBtb2NrVGV4dCxcbiAgICAgIHBsYW5EYXRhOiBjcmVhdGVNb2NrUGxhbkRhdGEoXCLrn6zri50g6rOE7ZqNXCIsIGNvbnZlcnNhdGlvbkhpc3RvcnkpXG4gICAgfTtcbiAgfVxufTtcblxuLy8g7IKs7Jqp7J6Q7J2YIOuniOyngOuniSDrqZTsi5zsp4Ag6rCA7KC47Jik6riwXG5mdW5jdGlvbiBnZXRMYXN0VXNlck1lc3NhZ2UoaGlzdG9yeTogeyByb2xlOiAndXNlcicgfCAnbW9kZWwnOyB0ZXh0OiBzdHJpbmcgfVtdKTogc3RyaW5nIHtcbiAgZm9yIChsZXQgaSA9IGhpc3RvcnkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAoaGlzdG9yeVtpXS5yb2xlID09PSAndXNlcicpIHtcbiAgICAgIHJldHVybiBoaXN0b3J5W2ldLnRleHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBcIuufrOuLnSDqs4Ttmo3sl5Ag64yA7ZW0IOyVjOugpOyjvOyEuOyalFwiOyAvLyDquLDrs7gg66mU7Iuc7KeAXG59XG5cbi8vIOuqqOydmCDsnZHri7Ug7IOd7ISxIO2VqOyImCAoQVBJIO2YuOy2nCDsi6TtjKgg7IucIOyCrOyaqSlcbmZ1bmN0aW9uIG1vY2tDaGF0UmVzcG9uc2UobWVzc2FnZTogc3RyaW5nLCBoaXN0b3J5PzogeyByb2xlOiAndXNlcicgfCAnbW9kZWwnOyB0ZXh0OiBzdHJpbmcgfVtdKSB7XG4gIC8vIOuMgO2ZlCDtnojsiqTthqDrpqzqsIAg7J6I7Jy866m0IOyCrOyaqeyekCDsoJXrs7Qg7LaU7LacXG4gIGNvbnN0IHVzZXJJbmZvID0gaGlzdG9yeSA/IGV4dHJhY3RVc2VySW5mb0Zyb21Db250ZXh0KGhpc3RvcnkpIDoge307XG4gIFxuICAvLyDsiJjsp5HrkJwg7KCV67O07JeQIOuUsOuluCDrp57stqTtmJUg7J2R64u1XG4gIGNvbnN0IGhhc0V4cGVyaWVuY2UgPSAn6rK97ZeYIOyImOykgCcgaW4gdXNlckluZm87XG4gIGNvbnN0IGhhc0Rpc3RhbmNlID0gJ+uqqe2RnCDqsbDrpqwnIGluIHVzZXJJbmZvO1xuICBjb25zdCBoYXNEYXRlID0gJ+uCoOynnCDsi5zqsIQnIGluIHVzZXJJbmZvO1xuICBjb25zdCBoYXNJbnRlbnNpdHkgPSAn6rCV64+EJyBpbiB1c2VySW5mbztcbiAgY29uc3QgaGFzVGltZSA9ICfrqqntkZwg7Iuc6rCEJyBpbiB1c2VySW5mbyB8fCAn66qp7ZGcIO2OmOydtOyKpCcgaW4gdXNlckluZm87XG4gIGNvbnN0IGhhc0ZyZXF1ZW5jeSA9ICfso7zqsIQg67mI64+EJyBpbiB1c2VySW5mbztcbiAgY29uc3QgaGFzR29hbCA9ICfrqqntkZwnIGluIHVzZXJJbmZvO1xuICBjb25zdCB3YW50c05ld1BsYW4gPSAn7IOIIOqzhO2ajSDsmpTssq0nIGluIHVzZXJJbmZvO1xuICBcbiAgLy8g7IOIIOqzhO2ajSDsmpTssq0g7LKY66asXG4gIGlmICh3YW50c05ld1BsYW4pIHtcbiAgICBjb25zdCBuZXdQbGFuUmVzcG9uc2VzID0gW1xuICAgICAgXCLsg4jroZzsmrQg65+s64udIOqzhO2ajeydhCDsm5DtlZjsi5zripTqtbDsmpQhIPCfmIog7Ja065akIOqxsOumrOyZgCDrgpzsnbTrj4TroZwg7IOI66Gt6rKMIOunjOuTpOyWtOuTnOumtOq5jOyalD9cIixcbiAgICAgIFwi6riw7KG0IOqzhO2ajeydhCDrs4Dqsr3tlbTrk5zrprTqsozsmpQhIOyWtOuWpCDqsbDrpqzroZwg64us66as6rOgIOyLtuycvOyLoOqwgOyalD8g6re466as6rOgIOyWuOygnCDri6zrpqzsi6Qg6rOE7ZqN7J247KeA64+EIOyVjOugpOyjvOyEuOyalH5cIixcbiAgICAgIFwi7IOIIOufrOuLnSDtlIzrnpzsnYQg66eM65Ok7Ja0IOuTnOumtOqyjOyalCEg66qp7ZGcIOqxsOumrOyZgCDri6zrpqzqs6Ag7Iu27J2AIOuCoOynnOulvCDslYzroKTso7zsi5zrqbQg67CU66GcIOykgOu5hO2VtOuTnOumtOqyjOyalCDwn5GNXCJcbiAgICBdO1xuICAgIHJldHVybiByYW5kb21TZWxlY3QobmV3UGxhblJlc3BvbnNlcyk7XG4gIH1cbiAgXG4gIC8vIOygleuztOqwgCDstqnrtoTtlZjrqbQg7ZSM656cIOygnOqztVxuICBpZiAoaGFzRXhwZXJpZW5jZSAmJiBoYXNEaXN0YW5jZSAmJiBoYXNEYXRlICYmIGhhc0ludGVuc2l0eSAmJiBoYXNUaW1lKSB7XG4gICAgY29uc3QgZXhwZXJpZW5jZSA9IHVzZXJJbmZvWyfqsr3tl5gg7IiY7KSAJ10gfHwgJ+y0iOuztOyekCc7XG4gICAgY29uc3QgZGlzdGFuY2UgPSB1c2VySW5mb1sn66qp7ZGcIOqxsOumrCddIHx8ICc1a20nO1xuICAgIGNvbnN0IGRhdGUgPSB1c2VySW5mb1sn64Kg7KecIOyLnOqwhCddIHx8ICfrgrTsnbwg7JWE7LmoJztcbiAgICBjb25zdCB0aW1lID0gdXNlckluZm9bJ+uqqe2RnCDsi5zqsIQnXSB8fCB1c2VySW5mb1sn66qp7ZGcIO2OmOydtOyKpCddIHx8ICcnO1xuICAgIGNvbnN0IGludGVuc2l0eSA9IHVzZXJJbmZvWyfqsJXrj4QnXSB8fCAn7KSR6rCEJztcbiAgICBcbiAgICBjb25zdCBlbW9qaU9wdGlvbnMgPSBbJ/CfmIonLCAn8J+RjScsICfwn4+D4oCN4pmA77iPJywgJ/Cfj4MnLCAn8J+SqicsICfinKgnLCAn8J+MnyddO1xuICAgIGNvbnN0IGVtb2ppID0gZW1vamlPcHRpb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGVtb2ppT3B0aW9ucy5sZW5ndGgpXTtcbiAgICBcbiAgICBjb25zdCBwbGFuUmVzcG9uc2VzID0gW1xuICAgICAgYCR7ZGF0ZX3sl5AgJHtkaXN0YW5jZX0g64us66as6riwIO2UjOuenOydtCDspIDruYTrkJDslrTsmpQhICR7ZW1vaml9ICR7dGltZSA/IHRpbWUgKyAnIOuqqe2RnOuhnCAnIDogJyd9JHtpbnRlbnNpdHl9IOqwleuPhOuhnCDsi5zsnpHtlbTrs7TshLjsmpQuIOyVhOuemCDsnITsoK/sl5DshJwg7IS467aAIOqzhO2ajeydhCDtmZXsnbjtlZjsi6Qg7IiYIOyeiOyWtOyalH5gLFxuICAgICAgYCR7ZXhwZXJpZW5jZX0g7IiY7KSA7JeQIOunnuuKlCAke2Rpc3RhbmNlfSDtlIzrnpzsnYQg66eM65Ok7JeI7Ja07JqUISAke2Vtb2ppfSAke2RhdGV97JeQICR7aW50ZW5zaXR5fSDqsJXrj4TroZwg7KeE7ZaJ7ZWY7Iuc66m0IOyii+ydhCDqsoMg6rCZ7JWE7JqULiDshLjrtoAg6rOE7ZqN7J2AIOyVhOuemCDsubTrk5zsl5DshJwg7ZmV7J247ZWY7IS47JqUIWAsXG4gICAgICBgJHtkYXRlfSAke2Rpc3RhbmNlfSDrn6zri50g6rOE7ZqN7J20IOyZhOyEseuQkOyWtOyalCEgJHtlbW9qaX0gJHt0aW1lfSR7aW50ZW5zaXR5fSDqsJXrj4TroZwg64us66as64qUIOunnuy2pCDtlIzrnpzsnbTri4gg7LC46rOg7ZWY7IS47JqULiDsppDqsbDsmrQg65+s64udIOuQmOyEuOyalH5gXG4gICAgXTtcbiAgICByZXR1cm4gcmFuZG9tU2VsZWN0KHBsYW5SZXNwb25zZXMpO1xuICB9XG4gIFxuICAvLyDsoJXrs7Qg7IiY7KeRIOuLqOqzhCAtIOy5nOq3vO2VnCDrp5DtiKzroZwg67OA6rK9XG4gIGlmICghaGFzRGlzdGFuY2UpIHtcbiAgICBjb25zdCBkaXN0YW5jZVJlc3BvbnNlcyA9IFtcbiAgICAgIFwi7JWI64WV7ZWY7IS47JqUISDribTrn7Ag65+s64udIOy9lOy5mOyYiOyalH4g8J+YiiDslrTrlqQg6rGw66as66W8IOuqqe2RnOuhnCDtlZjqs6Ag6rOE7Iug6rCA7JqUPyA1a20sIDEwa20g65OxIOyVjOugpOyjvOyLnOuptCDrp57stqQg7ZSM656c7J2EIOunjOuTpOyWtCDrk5zrprTqsozsmpQhXCIsXG4gICAgICBcIuuwmOqwgOybjOyalCEg65+s64udIO2UjOuenOydhCDsnITtlbQg66qp7ZGcIOqxsOumrOu2gO2EsCDslYzroKTso7zshLjsmpR+IDVrbSwgMTBrbSDrk7Eg64us66as6rOgIOyLtuydgCDqsbDrpqzqsIAg7J6I7Jy87Iug6rCA7JqUPyDwn4+D4oCN4pmA77iPXCIsXG4gICAgICBcIuyViOuFle2VmOyEuOyalCEg64m065+wIOufrOuLnSDsvZTsuZjsnoXri4jri6R+IOyWtOuWpCDqsbDrpqzroZwg65+s64udIOqzhO2ajeydhCDshLjsm4zrk5zrprTquYzsmpQ/IOuqqe2RnCDqsbDrpqzrpbwg7JWM66Ck7KO87IS47JqUISDwn5iKXCJcbiAgICBdO1xuICAgIHJldHVybiByYW5kb21TZWxlY3QoZGlzdGFuY2VSZXNwb25zZXMpO1xuICB9XG4gIFxuICBpZiAoaGFzRGlzdGFuY2UgJiYgIWhhc0V4cGVyaWVuY2UpIHtcbiAgICByZXR1cm4gYCR7dXNlckluZm9bJ+uqqe2RnCDqsbDrpqwnXX0g65+s64udIO2UjOuenOydtOq1sOyalCEg8J+RjSDtmLnsi5wg64us66as6riwIOqyve2XmOydgCDslrTripAg7KCV64+E7J246rCA7JqUPyDstIjrs7TsnpAsIOykkeq4ieyekCwg6rOg6riJ7J6QIOykkeyXkCDqs6jrnbzso7zsi5zrqbQg66ee7LakIO2UjOuenOydhCDrp4zrk6TslrQg65Oc66a06rKM7JqUfmA7XG4gIH1cbiAgXG4gIGlmIChoYXNEaXN0YW5jZSAmJiBoYXNFeHBlcmllbmNlICYmICFoYXNEYXRlKSB7XG4gICAgcmV0dXJuIGAke3VzZXJJbmZvWyfqsr3tl5gg7IiY7KSAJ11966W8IOychO2VnCAke3VzZXJJbmZvWyfrqqntkZwg6rGw66asJ119IO2UjOuenOydtOq1sOyalCEg8J+YiiDslrjsoJwg64us66as7IukIOqzhO2ajeyduOqwgOyalD8g64K07J28LCDso7zrp5Ag65OxIOyVjOugpOyjvOyLnOuptCDrjZQg6rWs7LK07KCB7J24IOqzhO2ajeydhCDshLjsm4zrk5zrprTqsozsmpR+YDtcbiAgfVxuICBcbiAgaWYgKGhhc0Rpc3RhbmNlICYmIGhhc0V4cGVyaWVuY2UgJiYgaGFzRGF0ZSAmJiAhaGFzSW50ZW5zaXR5KSB7XG4gICAgcmV0dXJuIGAke3VzZXJJbmZvWyfrgqDsp5wg7Iuc6rCEJ1197JeQICR7dXNlckluZm9bJ+uqqe2RnCDqsbDrpqwnXX0g64us66as7IukIOqzhO2ajeydtOq1sOyalCEg7Ja064qQIOygleuPhCDqsJXrj4TroZwg64us66as6rOgIOyLtuycvOyLoOqwgOyalD8g6rCA67K87JuALCDspJHqsIQsIOuGkuydjCDspJHsl5Ag7JWM66Ck7KO87IS47JqUfiDwn5KqYDtcbiAgfVxuICBcbiAgaWYgKGhhc0Rpc3RhbmNlICYmIGhhc0V4cGVyaWVuY2UgJiYgaGFzRGF0ZSAmJiBoYXNJbnRlbnNpdHkgJiYgIWhhc1RpbWUpIHtcbiAgICByZXR1cm4gYOqxsOydmCDri6Qg7JmU7Ja07JqUISDwn5GNICR7dXNlckluZm9bJ+uqqe2RnCDqsbDrpqwnXX3rpbwg7JmE7KO87ZWY64qU642wIOuqqe2RnCDsi5zqsITsnbTrgpgsIO2OmOydtOyKpOqwgCDsnojsnLzsi6DqsIDsmpQ/IOyYiOulvCDrk6TslrQgXCIzMOu2hCDslYjsl5BcIiDrmJDripQgXCLtgqzroZzri7kgNuu2hFwiIOqwmeydgCDrqqntkZzsmpQhYDtcbiAgfVxuXG4gIC8vIOyduOyCrCDsnZHri7VcbiAgaWYgKG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygn7JWI64WVJykgfHwgbWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdoaScpIHx8IG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnaGVsbG8nKSkge1xuICAgIGNvbnN0IGdyZWV0aW5ncyA9IFtcbiAgICAgIFwi7JWI64WV7ZWY7IS47JqUISDribTrn7Ag65+s64udIOy9lOy5mOyYiOyalH4g8J+YiiDsmKTripjsnYAg7Ja065akIOuLrOumrOq4sCDqs4Ttmo3snYQg64+E7JmA65Oc66a06rmM7JqUP1wiLFxuICAgICAgXCLrsJjqsIDsm4zsmpQhIOuJtOufsCDrn6zri50g7L2U7LmY7J6F64uI64ukLiDslrTrlqQg64us66as6riwIOuqqe2RnOulvCDqsJbqs6Ag6rOE7Iug6rCA7JqUPyDrj4TsmYDrk5zrprTqsozsmpQhIPCfkYtcIixcbiAgICAgIFwi7JWI64WV7ZWY7IS47JqUISDri6zrpqzquLAg6rOE7ZqN7J2EIO2VqOq7mCDshLjsm4zrs7zquYzsmpQ/IOyWtOuWpCDqsbDrpqzrpbwg66qp7ZGc66GcIO2VmOqzoCDqs4Tsi6Dsp4Ag7JWM66Ck7KO87IS47JqUfiDwn4+D4oCN4pmA77iPXCJcbiAgICBdO1xuICAgIHJldHVybiByYW5kb21TZWxlY3QoZ3JlZXRpbmdzKTtcbiAgfVxuICBcbiAgLy8g6riw67O4IOydkeuLtVxuICBjb25zdCBkZWZhdWx0UmVzcG9uc2VzID0gW1xuICAgIFwi64m065+wIOufrOuLnSDsvZTsuZjsmIjsmpR+IPCfkqog66ee7LakIOufrOuLnSDtlIzrnpzsnYQg7JyE7ZW0IOuqqe2RnCDqsbDrpqzsmYAg64us66as6riwIOqyve2XmOydhCDslYzroKTso7zshLjsmpQhXCIsXG4gICAgXCLsppDqsbDsmrQg65+s64ud7J2EIOychO2VnCDrp57stqQg7ZSM656c7J2EIOunjOuTpOyWtCDrk5zrprTqsozsmpQhIPCfmIog66qp7ZGcIOqxsOumrCwg6rK97ZeYIOyImOykgCwg6re466as6rOgIOyWuOygnCDri6zrpqzsi6Qg6rG07KeAIOyVjOugpOyjvOyEuOyalH5cIixcbiAgICBcIuyViOuFle2VmOyEuOyalCEg64m065+w6rO8IO2VqOq7mCDri6zroKTrs7zquYzsmpQ/IPCfj4PigI3imYDvuI8g7Ja065akIOqxsOumrOulvCDrqqntkZzroZwg7ZWY7Iuc64qU7KeALCDqt7jrpqzqs6Ag64us66as6riwIOqyve2XmOydgCDslrTripAg7KCV64+E7J247KeAIOyVjOugpOyjvOyEuOyalCFcIlxuICBdO1xuICByZXR1cm4gcmFuZG9tU2VsZWN0KGRlZmF1bHRSZXNwb25zZXMpO1xufVxuXG4vLyDrqqjsnZgg7ZSM656cIOuNsOydtO2EsCDsg53shLEg7ZWo7IiYXG5mdW5jdGlvbiBjcmVhdGVNb2NrUGxhbkRhdGEobWVzc2FnZTogc3RyaW5nLCBoaXN0b3J5PzogeyByb2xlOiAndXNlcicgfCAnbW9kZWwnOyB0ZXh0OiBzdHJpbmcgfVtdKSB7XG4gIC8vIOyCrOyaqeyekCDsoJXrs7Qg7LaU7LacXG4gIGNvbnN0IHVzZXJJbmZvID0gaGlzdG9yeSA/IGV4dHJhY3RVc2VySW5mb0Zyb21Db250ZXh0KGhpc3RvcnkpIDoge307XG4gIFxuICAvLyDquLDrs7jqsJIg7ISk7KCVXG4gIGNvbnN0IGV4cGVyaWVuY2UgPSB1c2VySW5mb1sn6rK97ZeYIOyImOykgCddIHx8ICfstIjrs7TsnpAnO1xuICBjb25zdCB0YXJnZXREaXN0YW5jZSA9IHVzZXJJbmZvWyfrqqntkZwg6rGw66asJ10gfHwgJzVrbSc7XG4gIGNvbnN0IGZyZXF1ZW5jeSA9IHVzZXJJbmZvWyfso7zqsIQg67mI64+EJ10gfHwgJ+yjvCAz7ZqMJztcbiAgY29uc3QgZ29hbCA9IHVzZXJJbmZvWyfrqqntkZwnXSB8fCAnJztcbiAgXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gIFxuICAvLyDrnpzrjaQg66+4656YIOuCoOynnCDsg53shLEgKDF+N+ydvCDsnbTrgrQpXG4gIGNvbnN0IGZ1dHVyZURhdGUgPSBuZXcgRGF0ZSgpO1xuICBmdXR1cmVEYXRlLnNldERhdGUobm93LmdldERhdGUoKSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDcpICsgMSk7XG4gIFxuICAvLyDsmKTsoIQgNuyLnCB+IOyYpOyghCA57IucIOyCrOydtCDrnpzrjaQg7Iuc6rCEXG4gIGNvbnN0IGhvdXIgPSA2ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNCk7XG4gIGNvbnN0IG1pbnV0ZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDYpICogMTA7IC8vIDAsIDEwLCAyMCwgMzAsIDQwLCA1MFxuICBcbiAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IGAke2Z1dHVyZURhdGUuZ2V0RnVsbFllYXIoKX3rhYQgJHtmdXR1cmVEYXRlLmdldE1vbnRoKCkgKyAxfeyblCAke2Z1dHVyZURhdGUuZ2V0RGF0ZSgpfeydvCAoJHtnZXRLb3JlYW5EYXlPZldlZWsoZnV0dXJlRGF0ZSl9KSDsmKTsoIQgJHtob3VyfToke21pbnV0ZSA8IDEwID8gJzAnICsgbWludXRlIDogbWludXRlfWA7XG5cbiAgLy8g7LaU7Lac65CcIOqxsOumrCDqsJIg7IKs7JqpXG4gIGNvbnN0IGRpc3RhbmNlTWF0Y2ggPSB0YXJnZXREaXN0YW5jZS5tYXRjaCgvKFxcZCspLyk7XG4gIGNvbnN0IGRpc3RhbmNlID0gZGlzdGFuY2VNYXRjaCA/IHBhcnNlSW50KGRpc3RhbmNlTWF0Y2hbMV0pIDogNTtcbiAgXG4gIC8vIOy0iOuztOyekCDtlIzrnpxcbiAgaWYgKGV4cGVyaWVuY2UuaW5jbHVkZXMoJ+y0iOuztCcpIHx8IGV4cGVyaWVuY2UuaW5jbHVkZXMoJ2JlZ2lubmVyJykpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGl0bGU6IGAke3RhcmdldERpc3RhbmNlfSDstIjrs7TsnpAg65+s64udIO2UjOuenGAsXG4gICAgICBkYXRlOiBmb3JtYXR0ZWREYXRlLFxuICAgICAgZGlzdGFuY2U6IHRhcmdldERpc3RhbmNlLFxuICAgICAgZHVyYXRpb246IGDslb0gJHtkaXN0YW5jZSAqIDcgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCl967aEYCxcbiAgICAgIGludGVuc2l0eTogJ+qwgOuyvOybgCcsXG4gICAgICBkZXRhaWxzOiBg7KSA67mE7Jq064+ZIDXrtoQg4oaSICR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMikgKyAyfeu2hCDqsbfquLAvJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKSArIDF967aEIOuLrOumrOq4sCDrsJjrs7Uo7LSdICR7ZGlzdGFuY2UgKiA1feu2hCkg4oaSIOygleumrOyatOuPmSA167aEYFxuICAgIH07XG4gIH1cbiAgXG4gIC8vIOykkeq4ieyekCDtlIzrnpxcbiAgaWYgKGV4cGVyaWVuY2UuaW5jbHVkZXMoJ+ykkeq4iScpIHx8IGV4cGVyaWVuY2UuaW5jbHVkZXMoJ2ludGVybWVkaWF0ZScpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRpdGxlOiBgJHt0YXJnZXREaXN0YW5jZX0g7KSR6riJ7J6QIOufrOuLnSDtlIzrnpxgLFxuICAgICAgZGF0ZTogZm9ybWF0dGVkRGF0ZSxcbiAgICAgIGRpc3RhbmNlOiB0YXJnZXREaXN0YW5jZSxcbiAgICAgIGR1cmF0aW9uOiBg7JW9ICR7ZGlzdGFuY2UgKiA2ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApfeu2hGAsXG4gICAgICBpbnRlbnNpdHk6ICfspJHqsIQnLFxuICAgICAgZGV0YWlsczogYOykgOu5hOyatOuPmSA467aEIOKGkiAke3RhcmdldERpc3RhbmNlfSDsnbzsoJUg7Y6Y7J207Iqk66GcIOuLrOumrOq4sCgke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpICsgNX06JHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA2KX0wL2ttKSDihpIg7KCV66as7Jq064+ZIDXrtoRgXG4gICAgfTtcbiAgfVxuICBcbiAgLy8g6rOg6riJ7J6QIO2UjOuenFxuICBpZiAoZXhwZXJpZW5jZS5pbmNsdWRlcygn6rOg6riJJykgfHwgZXhwZXJpZW5jZS5pbmNsdWRlcygnYWR2YW5jZWQnKSkge1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogYCR7dGFyZ2V0RGlzdGFuY2V9IOqzoOq4ieyekCDsnbjthLDrsowg7ZuI66CoYCxcbiAgICAgIGRhdGU6IGZvcm1hdHRlZERhdGUsXG4gICAgICBkaXN0YW5jZTogdGFyZ2V0RGlzdGFuY2UsXG4gICAgICBkdXJhdGlvbjogYOyVvSAke2Rpc3RhbmNlICogNSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKX3rtoRgLFxuICAgICAgaW50ZW5zaXR5OiAn64aS7J2MJyxcbiAgICAgIGRldGFpbHM6IGDspIDruYTsmrTrj5kgMTDrtoQg4oaSICR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMikgKyAzfTAwbSDsnbjthLDrsowgeCAke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpICsgNn3tmowo67mg66W4IO2OmOydtOyKpCkg4oaSIOygleumrOyatOuPmSA467aEYFxuICAgIH07XG4gIH1cbiAgXG4gIC8vIOuLrOumrOq4sCDqsbDrpqzsl5Ag65Sw66W4IOq4sOuzuCDtlIzrnpxcbiAgcmV0dXJuIHtcbiAgICB0aXRsZTogYCR7dGFyZ2V0RGlzdGFuY2V9ICR7ZnJlcXVlbmN5fSDrn6zri50g7ZSM656cJHtnb2FsID8gYCAoJHtnb2FsfSlgIDogJyd9YCxcbiAgICBkYXRlOiBmb3JtYXR0ZWREYXRlLFxuICAgIGRpc3RhbmNlOiB0YXJnZXREaXN0YW5jZSxcbiAgICBkdXJhdGlvbjogYOyVvSAke2Rpc3RhbmNlICogNiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE1KX3rtoRgLFxuICAgIGludGVuc2l0eTogJ+ykkeqwhCcsXG4gICAgZGV0YWlsczogYOykgOu5hOyatOuPmSAkezUgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1KX3rtoQg4oaSICR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMikgKyA1fToke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDYpfTAva20g7Y6Y7J207Iqk66GcICR7dGFyZ2V0RGlzdGFuY2V9IOuLrOumrOq4sCDihpIg7KCV66as7Jq064+ZICR7NSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpfeu2hGBcbiAgfTtcbn1cblxuLy8g7ZWc6rWt7Ja0IOyalOydvCDrs4DtmZgg7ZWo7IiYXG5mdW5jdGlvbiBnZXRLb3JlYW5EYXlPZldlZWsoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG4gIGNvbnN0IGRheXMgPSBbJ+ydvCcsICfsm5QnLCAn7ZmUJywgJ+yImCcsICfrqqknLCAn6riIJywgJ+2GoCddO1xuICByZXR1cm4gZGF5c1tkYXRlLmdldERheSgpXTtcbn1cblxuLy8g67Cw7Je07JeQ7IScIOustOyekeychCDsmpTshowg7ISg7YOdIO2XrO2NvCDtlajsiJhcbmZ1bmN0aW9uIHJhbmRvbVNlbGVjdDxUPihhcnI6IFRbXSk6IFQge1xuICByZXR1cm4gYXJyW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFyci5sZW5ndGgpXTtcbn1cblxuLy8g64yA7ZmUIOunpeudveyXkOyEnCDsgqzsmqnsnpAg7KCV67O0IOy2lOy2nO2VmOuKlCDtl6ztjbwg7ZWo7IiYXG5mdW5jdGlvbiBleHRyYWN0VXNlckluZm9Gcm9tQ29udGV4dChoaXN0b3J5OiB7IHJvbGU6ICd1c2VyJyB8ICdtb2RlbCc7IHRleHQ6IHN0cmluZyB9W10pOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgY29uc3QgdXNlckluZm86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgXG4gIC8vIOqyve2XmCDsiJjspIAg7LaU7LacXG4gIGNvbnN0IGV4cGVyaWVuY2VSZWdleCA9IC8o7LSI67O07J6QfOy0iOuztHzsnoXrrLjsnpB8YmVnaW5uZXJ87KSR6riJ7J6QfOykkeq4iXxpbnRlcm1lZGlhdGV86rOg6riJ7J6QfOqzoOq4iXxhZHZhbmNlZCkvaTtcbiAgY29uc3QgZGlzdGFuY2VSZWdleCA9IC8oXFxkKylbXFxzXSooa2187YKs66Gc66+47YSwfGtpbG9tZXRlcnxrfO2CrOuhnCkvaTtcbiAgY29uc3QgZnJlcXVlbmN5UmVnZXggPSAvKOyjvHx3ZWVrKVtcXHNdKihcXGQrKVtcXHNdKijtmox867KIfHRpbWVzfHRpbWUpL2k7XG4gIGNvbnN0IHRpbWVSZWdleCA9IC8oXFxkKylbXFxzXSoo67aEfOyLnOqwhHxob3Vycz98bWludXRlcz98bWlucz8pL2k7XG4gIGNvbnN0IHBhY2VSZWdleCA9IC8o7Y6Y7J207IqkfHBhY2V87YKs66GcW+uLueuvuF18a21b64u566+4XSlbXFxzXSooXFxkKylbXFxzXSoo67aEfOy0iHzstIg/KS9pO1xuICBjb25zdCBkYXRlUmVnZXggPSAvKOyYpOuKmHzrgrTsnbx866qo66CIfOuLpOydjOyjvHx3ZWVrZW5kfOyjvOunkHzsm5TsmpTsnbx87ZmU7JqU7J28fOyImOyalOydvHzrqqnsmpTsnbx86riI7JqU7J28fO2GoOyalOydvHzsnbzsmpTsnbx87JWE7LmofOygkOyLrHzsoIDrhYF87Jik7KCEfOyYpO2bhHzsg4jrsr0pL2k7XG4gIGNvbnN0IGludGVuc2l0eVJlZ2V4ID0gLyjqsIDrs41864KufOyJvXztjrjslYh87KSR6rCEfOuztO2GtXzrhpJ86rCV7ZWcP3xoYXJkfG1vZGVyYXRlfGVhc3l8bGlnaHR8aW50ZW5zZSkvaTtcbiAgY29uc3QgZ29hbFJlZ2V4ID0gLyjssrTspJFbXFxzXSrqsJDrn4l864uk7J207Ja07Yq4fOuMgO2ajHzrp4jrnbzthqR87LK066ClfOqxtOqwlXxoZWFsdGh8d2VpZ2h0fGRpZXR8cmFjZXxjb21wZXRpdGlvbnxtYXJhdGhvbikvaTtcbiAgXG4gIGZvciAoY29uc3QgbWVzc2FnZSBvZiBoaXN0b3J5KSB7XG4gICAgaWYgKG1lc3NhZ2Uucm9sZSA9PT0gJ3VzZXInKSB7XG4gICAgICBjb25zdCB0ZXh0ID0gbWVzc2FnZS50ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICBcbiAgICAgIC8vIOqyve2XmCDsiJjspIAg66ek7LmtXG4gICAgICBjb25zdCBleHBNYXRjaCA9IHRleHQubWF0Y2goZXhwZXJpZW5jZVJlZ2V4KTtcbiAgICAgIGlmIChleHBNYXRjaCAmJiAhdXNlckluZm9bJ+qyve2XmCDsiJjspIAnXSkge1xuICAgICAgICB1c2VySW5mb1sn6rK97ZeYIOyImOykgCddID0gZXhwTWF0Y2hbMF07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOqxsOumrCDrp6Tsua1cbiAgICAgIGNvbnN0IGRpc3RNYXRjaCA9IHRleHQubWF0Y2goZGlzdGFuY2VSZWdleCk7XG4gICAgICBpZiAoZGlzdE1hdGNoICYmICF1c2VySW5mb1sn66qp7ZGcIOqxsOumrCddKSB7XG4gICAgICAgIHVzZXJJbmZvWyfrqqntkZwg6rGw66asJ10gPSBgJHtkaXN0TWF0Y2hbMV19a21gO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDruYjrj4Qg66ek7LmtXG4gICAgICBjb25zdCBmcmVxTWF0Y2ggPSB0ZXh0Lm1hdGNoKGZyZXF1ZW5jeVJlZ2V4KTtcbiAgICAgIGlmIChmcmVxTWF0Y2ggJiYgIXVzZXJJbmZvWyfso7zqsIQg67mI64+EJ10pIHtcbiAgICAgICAgdXNlckluZm9bJ+yjvOqwhCDruYjrj4QnXSA9IGDso7wgJHtmcmVxTWF0Y2hbMl197ZqMYDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8g7Iuc6rCEIOuqqe2RnCDrp6Tsua1cbiAgICAgIGNvbnN0IHRpbWVNYXRjaCA9IHRleHQubWF0Y2godGltZVJlZ2V4KTtcbiAgICAgIGlmICh0aW1lTWF0Y2ggJiYgIXVzZXJJbmZvWyfrqqntkZwg7Iuc6rCEJ10pIHtcbiAgICAgICAgY29uc3QgdW5pdCA9IHRpbWVNYXRjaFsyXS5pbmNsdWRlcygn7IucJykgfHwgdGltZU1hdGNoWzJdLmluY2x1ZGVzKCdob3VyJykgPyAn7Iuc6rCEJyA6ICfrtoQnO1xuICAgICAgICB1c2VySW5mb1sn66qp7ZGcIOyLnOqwhCddID0gYCR7dGltZU1hdGNoWzFdfSR7dW5pdH1gO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDtjpjsnbTsiqQg66ek7LmtXG4gICAgICBjb25zdCBwYWNlTWF0Y2ggPSB0ZXh0Lm1hdGNoKHBhY2VSZWdleCk7XG4gICAgICBpZiAocGFjZU1hdGNoICYmICF1c2VySW5mb1sn66qp7ZGcIO2OmOydtOyKpCddKSB7XG4gICAgICAgIHVzZXJJbmZvWyfrqqntkZwg7Y6Y7J207IqkJ10gPSBg7YKs66Gc64u5ICR7cGFjZU1hdGNoWzJdfeu2hGA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOuCoOynnCDrp6Tsua1cbiAgICAgIGNvbnN0IGRhdGVNYXRjaCA9IHRleHQubWF0Y2goZGF0ZVJlZ2V4KTtcbiAgICAgIGlmIChkYXRlTWF0Y2ggJiYgIXVzZXJJbmZvWyfrgqDsp5wg7Iuc6rCEJ10pIHtcbiAgICAgICAgdXNlckluZm9bJ+uCoOynnCDsi5zqsIQnXSA9IGRhdGVNYXRjaFswXTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8g6rCV64+EIOunpOy5rVxuICAgICAgY29uc3QgaW50ZW5zaXR5TWF0Y2ggPSB0ZXh0Lm1hdGNoKGludGVuc2l0eVJlZ2V4KTtcbiAgICAgIGlmIChpbnRlbnNpdHlNYXRjaCAmJiAhdXNlckluZm9bJ+qwleuPhCddKSB7XG4gICAgICAgIGNvbnN0IGludGVuc2l0eSA9IGludGVuc2l0eU1hdGNoWzBdO1xuICAgICAgICBpZiAoaW50ZW5zaXR5LmluY2x1ZGVzKCfqsIDrs40nKSB8fCBpbnRlbnNpdHkuaW5jbHVkZXMoJ+uCricpIHx8IGludGVuc2l0eS5pbmNsdWRlcygn7Im9JykgfHwgXG4gICAgICAgICAgICBpbnRlbnNpdHkuaW5jbHVkZXMoJ+2OuOyViCcpIHx8IGludGVuc2l0eS5pbmNsdWRlcygnZWFzeScpIHx8IGludGVuc2l0eS5pbmNsdWRlcygnbGlnaHQnKSkge1xuICAgICAgICAgIHVzZXJJbmZvWyfqsJXrj4QnXSA9ICfqsIDrsrzsm4AnO1xuICAgICAgICB9IGVsc2UgaWYgKGludGVuc2l0eS5pbmNsdWRlcygn7KSR6rCEJykgfHwgaW50ZW5zaXR5LmluY2x1ZGVzKCfrs7TthrUnKSB8fCBpbnRlbnNpdHkuaW5jbHVkZXMoJ21vZGVyYXRlJykpIHtcbiAgICAgICAgICB1c2VySW5mb1sn6rCV64+EJ10gPSAn7KSR6rCEJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1c2VySW5mb1sn6rCV64+EJ10gPSAn64aS7J2MJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDrqqntkZwg66ek7LmtXG4gICAgICBjb25zdCBnb2FsTWF0Y2ggPSB0ZXh0Lm1hdGNoKGdvYWxSZWdleCk7XG4gICAgICBpZiAoZ29hbE1hdGNoICYmICF1c2VySW5mb1sn66qp7ZGcJ10pIHtcbiAgICAgICAgdXNlckluZm9bJ+uqqe2RnCddID0gZ29hbE1hdGNoWzBdO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDsg4gg6rOE7ZqNIOyalOyyrSDsl6zrtoAgKOychOygryDsgq3soJwv7J6s7IOd7ISxIOq0gOugqClcbiAgICAgIGlmICh0ZXh0LmluY2x1ZGVzKCfsg4jroZzsmrQnKSB8fCB0ZXh0LmluY2x1ZGVzKCfsg4gg6rOE7ZqNJykgfHwgdGV4dC5pbmNsdWRlcygn64uk7IucJykgfHwgXG4gICAgICAgICAgdGV4dC5pbmNsdWRlcygn67CU6r+UJykgfHwgdGV4dC5pbmNsdWRlcygn67OA6rK9JykgfHwgdGV4dC5pbmNsdWRlcygn7IKt7KCcJykgfHwgXG4gICAgICAgICAgdGV4dC5pbmNsdWRlcygn7KeA7JuMJykgfHwgdGV4dC5pbmNsdWRlcygn7JeG7JWgJykgfHwgdGV4dC5pbmNsdWRlcygn7Leo7IaMJykpIHtcbiAgICAgICAgdXNlckluZm9bJ+yDiCDqs4Ttmo0g7JqU7LKtJ10gPSAndHJ1ZSc7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gdXNlckluZm87XG59ICJdLCJuYW1lcyI6WyJHb29nbGVHZW5lcmF0aXZlQUkiLCJydW5uaW5nQ29hY2hQcm9tcHQiLCJnZXRBaUNsaWVudCIsImFwaUtleSIsImtleSIsInByb2Nlc3MiLCJlbnYiLCJHRU1JTklfQVBJX0tFWSIsIkVycm9yIiwiZ2VuZXJhdGVSdW5uaW5nUGxhbiIsImNvbnZlcnNhdGlvbkhpc3RvcnkiLCJnZW5BSSIsIm1vZGVsIiwiZ2V0R2VuZXJhdGl2ZU1vZGVsIiwiZ2VuZXJhdGlvbkNvbmZpZyIsInRlbXBlcmF0dXJlIiwibWF4T3V0cHV0VG9rZW5zIiwic3lzdGVtUHJvbXB0IiwiY2hhdENvbnRleHQiLCJyZWNlbnRNZXNzYWdlcyIsInNsaWNlIiwibGVuZ3RoIiwiZm9yRWFjaCIsIm1zZyIsInJvbGUiLCJ0ZXh0IiwidXNlckluZm8iLCJleHRyYWN0VXNlckluZm9Gcm9tQ29udGV4dCIsIk9iamVjdCIsImtleXMiLCJlbnRyaWVzIiwidmFsdWUiLCJsYXN0VXNlck1lc3NhZ2UiLCJnZXRMYXN0VXNlck1lc3NhZ2UiLCJmdWxsUHJvbXB0IiwiY29uc29sZSIsImxvZyIsInJlc3VsdCIsImdlbmVyYXRlQ29udGVudCIsInJlc3BvbnNlIiwicGxhbkRhdGEiLCJqc29uTWF0Y2giLCJtYXRjaCIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwic3RyaW5naWZ5IiwibW9ja1RleHQiLCJtb2NrQ2hhdFJlc3BvbnNlIiwibW9ja1BsYW5EYXRhIiwiY3JlYXRlTW9ja1BsYW5EYXRhIiwiaGlzdG9yeSIsImkiLCJtZXNzYWdlIiwiaGFzRXhwZXJpZW5jZSIsImhhc0Rpc3RhbmNlIiwiaGFzRGF0ZSIsImhhc0ludGVuc2l0eSIsImhhc1RpbWUiLCJoYXNGcmVxdWVuY3kiLCJoYXNHb2FsIiwid2FudHNOZXdQbGFuIiwibmV3UGxhblJlc3BvbnNlcyIsInJhbmRvbVNlbGVjdCIsImV4cGVyaWVuY2UiLCJkaXN0YW5jZSIsImRhdGUiLCJ0aW1lIiwiaW50ZW5zaXR5IiwiZW1vamlPcHRpb25zIiwiZW1vamkiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwbGFuUmVzcG9uc2VzIiwiZGlzdGFuY2VSZXNwb25zZXMiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiZ3JlZXRpbmdzIiwiZGVmYXVsdFJlc3BvbnNlcyIsInRhcmdldERpc3RhbmNlIiwiZnJlcXVlbmN5IiwiZ29hbCIsIm5vdyIsIkRhdGUiLCJmdXR1cmVEYXRlIiwic2V0RGF0ZSIsImdldERhdGUiLCJob3VyIiwibWludXRlIiwiZm9ybWF0dGVkRGF0ZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXRLb3JlYW5EYXlPZldlZWsiLCJkaXN0YW5jZU1hdGNoIiwicGFyc2VJbnQiLCJ0aXRsZSIsImR1cmF0aW9uIiwiZGV0YWlscyIsImRheXMiLCJnZXREYXkiLCJhcnIiLCJleHBlcmllbmNlUmVnZXgiLCJkaXN0YW5jZVJlZ2V4IiwiZnJlcXVlbmN5UmVnZXgiLCJ0aW1lUmVnZXgiLCJwYWNlUmVnZXgiLCJkYXRlUmVnZXgiLCJpbnRlbnNpdHlSZWdleCIsImdvYWxSZWdleCIsImV4cE1hdGNoIiwiZGlzdE1hdGNoIiwiZnJlcU1hdGNoIiwidGltZU1hdGNoIiwidW5pdCIsInBhY2VNYXRjaCIsImRhdGVNYXRjaCIsImludGVuc2l0eU1hdGNoIiwiZ29hbE1hdGNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/lib/aiClient.ts\n");

/***/ }),

/***/ "(api)/./src/lib/prompts.ts":
/*!****************************!*\
  !*** ./src/lib/prompts.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   runningCoachPrompt: () => (/* binding */ runningCoachPrompt)\n/* harmony export */ });\n// ë‰´ëŸ°(newrun) ëŸ¬ë‹ ì½”ì¹˜ AIì˜ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸\nconst runningCoachPrompt = `ë‹¹ì‹ ì€ ë‰´ëŸ°(newrun)ì˜ ëŸ¬ë‹ ì½”ì¹˜ì…ë‹ˆë‹¤. ì¹œê·¼í•˜ê³  ê²©ë ¤í•˜ëŠ” ë§íˆ¬ë¡œ ì‚¬ìš©ìì™€ ëŒ€í™”í•˜ì„¸ìš”. ë°˜ë§ë³´ë‹¤ëŠ” ì¡´ëŒ“ë§ì„ ì‚¬ìš©í•˜ë˜, ë„ˆë¬´ ë”±ë”±í•˜ì§€ ì•Šê³  ì¹œê·¼í•˜ê²Œ ëŒ€í™”í•´ì£¼ì„¸ìš”.\n\n1. ì‘ë‹µì€ ì§§ê³  ê°„ê²°í•˜ê²Œ í•´ì£¼ì„¸ìš”. 1-2ë¬¸ì¥ì´ ì´ìƒì ì…ë‹ˆë‹¤.\n2. ë§ˆí¬ë‹¤ìš´ ìŠ¤íƒ€ì¼ì€ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”. ì¼ë°˜ í…ìŠ¤íŠ¸ë§Œ ì‚¬ìš©í•˜ì„¸ìš”.\n3. ì‚¬ìš©ìê°€ ì´ì „ì— ì œê³µí•œ ì •ë³´ëŠ” ê³„ì† ê¸°ì–µí•˜ê³  ë°˜ë³µí•´ì„œ ë¬¼ì–´ë³´ì§€ ë§ˆì„¸ìš”.\n4. ğŸ˜Š, ğŸ‘, ğŸ‘‹ ê°™ì€ ì´ëª¨ì§€ë¥¼ ì ì ˆíˆ ì‚¬ìš©í•˜ì—¬ ì¹œê·¼í•œ ë¶„ìœ„ê¸°ë¥¼ ë§Œë“œì„¸ìš”.\n5. ëŸ¬ë‹ ê³„íšì„ ì„¸ìš°ê¸° ìœ„í•´ ë‹¤ìŒ ì •ë³´ê°€ ë°˜ë“œì‹œ í•„ìš”í•©ë‹ˆë‹¤:\n   - ëª©í‘œ ê±°ë¦¬: \"5km\", \"10km\", \"í•˜í”„ ë§ˆë¼í†¤\" ë“± (í•„ìˆ˜)\n   - ë‹¬ë¦¬ê¸° ê²½í—˜: \"ì´ˆë³´ì\", \"ì¤‘ê¸‰ì\", \"ê³ ê¸‰ì\" ë“± (í•„ìˆ˜)\n   - ë‚ ì§œì™€ ì‹œê°„: ì–¸ì œ ë‹¬ë¦´ ê³„íšì¸ì§€ (í•„ìˆ˜)\n   - ê°•ë„: \"ê°€ë²¼ì›€\", \"ì¤‘ê°„\", \"ë†’ìŒ\" ë“± (í•„ìˆ˜)\n   - ëª©í‘œ ì‹œê°„/í˜ì´ìŠ¤: \"30ë¶„ ë‚´\", \"í‚¬ë¡œë‹¹ 6ë¶„\" ë“± (í•„ìˆ˜)\n   - ì£¼ê°„ ë¹ˆë„: ì£¼ ëª‡ íšŒ ë‹¬ë¦´ ìˆ˜ ìˆëŠ”ì§€ (ê¶Œì¥)\n   - ëª©í‘œ: ì²´ì¤‘ ê°ëŸ‰, ê±´ê°• ì¦ì§„, ëŒ€íšŒ ì¤€ë¹„ ë“± (ê¶Œì¥)\n\n6. ìœ„ í•„ìˆ˜ ì •ë³´ê°€ ì—†ìœ¼ë©´ ì¹œê·¼í•˜ê²Œ ë¬¼ì–´ë³´ê³ , ëª¨ë“  í•„ìˆ˜ ì •ë³´ê°€ ìˆ˜ì§‘ë˜ë©´ ë°”ë¡œ ëŸ¬ë‹ ê³„íšì„ ì œê³µí•˜ì„¸ìš”.\n7. ëŸ¬ë‹ ê³„íšì„ ì´ë¯¸ ì œê³µí–ˆë‹¤ë©´, ì‚¬ìš©ìê°€ ìƒˆë¡œìš´ ê³„íšì„ ì›í•˜ëŠ”ì§€ ë¬¼ì–´ë³´ì„¸ìš”. \"ìƒˆë¡œìš´ ê³„íš ì„¸ì›Œë“œë¦´ê¹Œìš”?\" ë˜ëŠ” \"ë‹¤ë¥¸ ê³„íšì´ í•„ìš”í•˜ì‹ ê°€ìš”?\"ë¼ê³  ë¬¼ì–´ë³´ì„¸ìš”.\n\nìµœì¢… ëŸ¬ë‹ ê³„íšì´ ì™„ì„±ë˜ë©´ ì•„ë˜ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ êµ¬ì¡°í™”ëœ ì •ë³´ë¥¼ JSON í˜•íƒœë¡œ ì‘ë‹µ ë§ˆì§€ë§‰ì— ë°˜ë“œì‹œ í¬í•¨ì‹œì¼œ ì£¼ì„¸ìš”:\n\n\\`\\`\\`json\n{\n  \"title\": \"ëŸ¬ë‹ í”Œëœ ì œëª© (ì˜ˆ: ì´ˆë³´ì 5km í”Œëœ)\",\n  \"date\": \"ë‹¬ë¦¬ê¸° ë‚ ì§œì™€ ì‹œê°„ (ì˜ˆ: 2023ë…„ 5ì›” 13ì¼ (í† ) ì˜¤ì „ 7:00)\",\n  \"distance\": \"ë‹¬ë¦¬ê¸° ê±°ë¦¬ (ì˜ˆ: 5km)\",\n  \"duration\": \"ì˜ˆìƒ ì†Œìš” ì‹œê°„ (ì˜ˆ: ì•½ 35ë¶„)\",\n  \"intensity\": \"ê°•ë„ (ì˜ˆ: ê°€ë²¼ì›€, ì¤‘ê°„, ë†’ìŒ)\",\n  \"details\": \"ì„¸ë¶€ ê³„íš (ì˜ˆ: ì¤€ë¹„ìš´ë™ 5ë¶„ â†’ ë³¸ìš´ë™ 25ë¶„ â†’ ì •ë¦¬ìš´ë™ 5ë¶„)\"\n}\n\\`\\`\\`\n\nì‘ë‹µ ì˜ˆì‹œ:\nì‚¬ìš©ì: \"ëŸ¬ë‹ ê³„íš ì„¸ì›Œì¤˜\"\nì½”ì¹˜: \"ì•ˆë…•í•˜ì„¸ìš”! ğŸ˜Š ë‰´ëŸ° ëŸ¬ë‹ ì½”ì¹˜ì˜ˆìš”. ì–´ë–¤ ê±°ë¦¬ë¥¼ ëª©í‘œë¡œ í•˜ì‹œë‚˜ìš”? 5km, 10km ë“± ì•Œë ¤ì£¼ì‹œë©´ ë§ì¶¤ í”Œëœì„ ë§Œë“¤ì–´ ë“œë¦´ê²Œìš”!\"\n\nì‚¬ìš©ì: \"5km ë‹¬ë¦¬ê¸° í• ê±°ì˜ˆìš”. ì´ˆë³´ìì¸ë°\"\nì½”ì¹˜: \"5km ì´ˆë³´ì í”Œëœì´êµ°ìš”! ğŸ‘ ì–¸ì œ ë‹¬ë¦¬ì‹¤ ê³„íšì¸ê°€ìš”? ê·¸ë¦¬ê³  ëª©í‘œ ì‹œê°„ì´ ìˆìœ¼ì‹ ì§€ë„ ì•Œë ¤ì£¼ì„¸ìš”~\"\n\nì‚¬ìš©ì: \"ë‚´ì¼ ì•„ì¹¨ì— ë‹¬ë¦´ ê±°ì˜ˆìš”. 40ë¶„ ì•ˆì— ì™„ì£¼í•˜ê³  ì‹¶ì–´ìš”\"\nì½”ì¹˜: \"ì¢‹ì€ ëª©í‘œì˜ˆìš”! ë‚´ì¼ ì•„ì¹¨ 5kmë¥¼ 40ë¶„ ì•ˆì— ì™„ì£¼í•˜ëŠ” ì´ˆë³´ì í”Œëœì„ ì¤€ë¹„í–ˆì–´ìš”. ì¤€ë¹„ìš´ë™ 5ë¶„ í›„ ì¡°ê¹…ê³¼ ê±·ê¸°ë¥¼ ë²ˆê°ˆì•„ê°€ë©° í•˜ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ì•„ìš”! ğŸ˜Š\"`;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL3Byb21wdHMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGdDQUFnQztBQUN6QixNQUFNQSxxQkFBcUIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzZGQXVDMEQsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcnVuLXBsYW5uZXIvLi9zcmMvbGliL3Byb21wdHMudHM/YTY2MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDribTrn7AobmV3cnVuKSDrn6zri50g7L2U7LmYIEFJ7J2YIOyLnOyKpO2FnCDtlITroaztlITtirhcbmV4cG9ydCBjb25zdCBydW5uaW5nQ29hY2hQcm9tcHQgPSBg64u57Iug7J2AIOuJtOufsChuZXdydW4p7J2YIOufrOuLnSDsvZTsuZjsnoXri4jri6QuIOy5nOq3vO2VmOqzoCDqsqnroKTtlZjripQg66eQ7Yis66GcIOyCrOyaqeyekOyZgCDrjIDtmZTtlZjshLjsmpQuIOuwmOunkOuztOuLpOuKlCDsobTrjJPrp5DsnYQg7IKs7Jqp7ZWY65CYLCDrhIjrrLQg65Sx65Sx7ZWY7KeAIOyViuqzoCDsuZzqt7ztlZjqsowg64yA7ZmU7ZW07KO87IS47JqULlxuXG4xLiDsnZHri7XsnYAg7Ken6rOgIOqwhOqysO2VmOqyjCDtlbTso7zshLjsmpQuIDEtMuusuOyepeydtCDsnbTsg4HsoIHsnoXri4jri6QuXG4yLiDrp4jtgazri6TsmrQg7Iqk7YOA7J287J2AIOyCrOyaqe2VmOyngCDrp4jshLjsmpQuIOydvOuwmCDthY3siqTtirjrp4wg7IKs7Jqp7ZWY7IS47JqULlxuMy4g7IKs7Jqp7J6Q6rCAIOydtOyghOyXkCDsoJzqs7XtlZwg7KCV67O064qUIOqzhOyGjSDquLDslrXtlZjqs6Ag67CY67O17ZW07IScIOusvOyWtOuztOyngCDrp4jshLjsmpQuXG40LiDwn5iKLCDwn5GNLCDwn5GLIOqwmeydgCDsnbTrqqjsp4Drpbwg7KCB7KCI7Z6IIOyCrOyaqe2VmOyXrCDsuZzqt7ztlZwg67aE7JyE6riw66W8IOunjOuTnOyEuOyalC5cbjUuIOufrOuLnSDqs4Ttmo3snYQg7IS47Jqw6riwIOychO2VtCDri6TsnYwg7KCV67O06rCAIOuwmOuTnOyLnCDtlYTsmpTtlanri4jri6Q6XG4gICAtIOuqqe2RnCDqsbDrpqw6IFwiNWttXCIsIFwiMTBrbVwiLCBcIu2VmO2UhCDrp4jrnbzthqRcIiDrk7EgKO2VhOyImClcbiAgIC0g64us66as6riwIOqyve2XmDogXCLstIjrs7TsnpBcIiwgXCLspJHquInsnpBcIiwgXCLqs6DquInsnpBcIiDrk7EgKO2VhOyImClcbiAgIC0g64Kg7Kec7JmAIOyLnOqwhDog7Ja47KCcIOuLrOumtCDqs4Ttmo3snbjsp4AgKO2VhOyImClcbiAgIC0g6rCV64+EOiBcIuqwgOuyvOybgFwiLCBcIuykkeqwhFwiLCBcIuuGkuydjFwiIOuTsSAo7ZWE7IiYKVxuICAgLSDrqqntkZwg7Iuc6rCEL+2OmOydtOyKpDogXCIzMOu2hCDrgrRcIiwgXCLtgqzroZzri7kgNuu2hFwiIOuTsSAo7ZWE7IiYKVxuICAgLSDso7zqsIQg67mI64+EOiDso7wg66qHIO2ajCDri6zrprQg7IiYIOyeiOuKlOyngCAo6raM7J6lKVxuICAgLSDrqqntkZw6IOyytOykkSDqsJDrn4ksIOqxtOqwlSDspp3sp4QsIOuMgO2ajCDspIDruYQg65OxICjqtozsnqUpXG5cbjYuIOychCDtlYTsiJgg7KCV67O06rCAIOyXhuycvOuptCDsuZzqt7ztlZjqsowg66y87Ja067O06rOgLCDrqqjrk6Ag7ZWE7IiYIOygleuztOqwgCDsiJjsp5HrkJjrqbQg67CU66GcIOufrOuLnSDqs4Ttmo3snYQg7KCc6rO17ZWY7IS47JqULlxuNy4g65+s64udIOqzhO2ajeydhCDsnbTrr7gg7KCc6rO17ZaI64uk66m0LCDsgqzsmqnsnpDqsIAg7IOI66Gc7Jq0IOqzhO2ajeydhCDsm5DtlZjripTsp4Ag66y87Ja067O07IS47JqULiBcIuyDiOuhnOyatCDqs4Ttmo0g7IS47JuM65Oc66a06rmM7JqUP1wiIOuYkOuKlCBcIuuLpOuluCDqs4Ttmo3snbQg7ZWE7JqU7ZWY7Iug6rCA7JqUP1wi65286rOgIOusvOyWtOuztOyEuOyalC5cblxu7LWc7KKFIOufrOuLnSDqs4Ttmo3snbQg7JmE7ISx65CY66m0IOyVhOuemOyZgCDqsJnsnYAg7ZiV7Iud7Jy866GcIOq1rOyhsO2ZlOuQnCDsoJXrs7TrpbwgSlNPTiDtmJXtg5zroZwg7J2R64u1IOuniOyngOunieyXkCDrsJjrk5zsi5wg7Y+s7ZWo7Iuc7LycIOyjvOyEuOyalDpcblxuXFxgXFxgXFxganNvblxue1xuICBcInRpdGxlXCI6IFwi65+s64udIO2UjOuenCDsoJzrqqkgKOyYiDog7LSI67O07J6QIDVrbSDtlIzrnpwpXCIsXG4gIFwiZGF0ZVwiOiBcIuuLrOumrOq4sCDrgqDsp5zsmYAg7Iuc6rCEICjsmIg6IDIwMjPrhYQgNeyblCAxM+ydvCAo7YagKSDsmKTsoIQgNzowMClcIixcbiAgXCJkaXN0YW5jZVwiOiBcIuuLrOumrOq4sCDqsbDrpqwgKOyYiDogNWttKVwiLFxuICBcImR1cmF0aW9uXCI6IFwi7JiI7IOBIOyGjOyalCDsi5zqsIQgKOyYiDog7JW9IDM167aEKVwiLFxuICBcImludGVuc2l0eVwiOiBcIuqwleuPhCAo7JiIOiDqsIDrsrzsm4AsIOykkeqwhCwg64aS7J2MKVwiLFxuICBcImRldGFpbHNcIjogXCLshLjrtoAg6rOE7ZqNICjsmIg6IOykgOu5hOyatOuPmSA167aEIOKGkiDrs7jsmrTrj5kgMjXrtoQg4oaSIOygleumrOyatOuPmSA167aEKVwiXG59XG5cXGBcXGBcXGBcblxu7J2R64u1IOyYiOyLnDpcbuyCrOyaqeyekDogXCLrn6zri50g6rOE7ZqNIOyEuOybjOykmFwiXG7svZTsuZg6IFwi7JWI64WV7ZWY7IS47JqUISDwn5iKIOuJtOufsCDrn6zri50g7L2U7LmY7JiI7JqULiDslrTrlqQg6rGw66as66W8IOuqqe2RnOuhnCDtlZjsi5zrgpjsmpQ/IDVrbSwgMTBrbSDrk7Eg7JWM66Ck7KO87Iuc66m0IOunnuy2pCDtlIzrnpzsnYQg66eM65Ok7Ja0IOuTnOumtOqyjOyalCFcIlxuXG7sgqzsmqnsnpA6IFwiNWttIOuLrOumrOq4sCDtlaDqsbDsmIjsmpQuIOy0iOuztOyekOyduOuNsFwiXG7svZTsuZg6IFwiNWttIOy0iOuztOyekCDtlIzrnpzsnbTqtbDsmpQhIPCfkY0g7Ja47KCcIOuLrOumrOyLpCDqs4Ttmo3snbjqsIDsmpQ/IOq3uOumrOqzoCDrqqntkZwg7Iuc6rCE7J20IOyeiOycvOyLoOyngOuPhCDslYzroKTso7zshLjsmpR+XCJcblxu7IKs7Jqp7J6QOiBcIuuCtOydvCDslYTsuajsl5Ag64us66a0IOqxsOyYiOyalC4gNDDrtoQg7JWI7JeQIOyZhOyjvO2VmOqzoCDsi7bslrTsmpRcIlxu7L2U7LmYOiBcIuyii+ydgCDrqqntkZzsmIjsmpQhIOuCtOydvCDslYTsuaggNWtt66W8IDQw67aEIOyViOyXkCDsmYTso7ztlZjripQg7LSI67O07J6QIO2UjOuenOydhCDspIDruYTtlojslrTsmpQuIOykgOu5hOyatOuPmSA167aEIO2bhCDsobDquYXqs7wg6rG36riw66W8IOuyiOqwiOyVhOqwgOupsCDtlZjsi5zrqbQg7KKL7J2EIOqygyDqsJnslYTsmpQhIPCfmIpcImA7ICJdLCJuYW1lcyI6WyJydW5uaW5nQ29hY2hQcm9tcHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/prompts.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/chat.ts":
/*!*******************************!*\
  !*** ./src/pages/api/chat.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_aiClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/aiClient */ \"(api)/./src/lib/aiClient.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_aiClient__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_aiClient__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// In-memory storage for conversation history (will be reset on server restart)\n// In a production app, you would store this in a database or session\nconst conversationHistories = {};\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        res.status(405).end();\n        return;\n    }\n    try {\n        const { message, sessionId } = req.body;\n        const apiKey = process.env.GEMINI_API_KEY || \"AIzaSyCbzJRQzIfbdVpLkHzZZ86WOAFlIqa1MeI\";\n        if (!message || typeof message !== \"string\") {\n            res.status(400).json({\n                text: \"ë©”ì‹œì§€ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.\",\n                id: Date.now().toString()\n            });\n            return;\n        }\n        if (!apiKey) {\n            res.status(400).json({\n                text: \"API í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì•± ì„¤ì •ì„ í™•ì¸í•´ì£¼ì„¸ìš”.\",\n                id: Date.now().toString()\n            });\n            return;\n        }\n        // Create or get session history\n        const sid = sessionId || \"default\";\n        if (!conversationHistories[sid]) {\n            conversationHistories[sid] = [];\n        }\n        // ëŒ€í™” íˆìŠ¤í† ë¦¬ê°€ ë„ˆë¬´ ê¸¸ì–´ì§€ì§€ ì•Šë„ë¡ ìµœëŒ€ 10ê°œ ë©”ì‹œì§€ë§Œ ìœ ì§€\n        if (conversationHistories[sid].length >= 20) {\n            // ì²˜ìŒ ë©”ì‹œì§€ëŠ” ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìœ ì§€\n            const firstMessage = conversationHistories[sid][0];\n            // ìµœê·¼ 9ê°œ ë©”ì‹œì§€ë§Œ ìœ ì§€\n            conversationHistories[sid] = [\n                firstMessage,\n                ...conversationHistories[sid].slice(-9)\n            ];\n        }\n        // Add user message to history\n        conversationHistories[sid].push({\n            role: \"user\",\n            text: message\n        });\n        // Call Gemini API\n        try {\n            console.log(`Calling Gemini API with session ${sid}, message: ${message.substring(0, 50)}...`);\n            // í•­ìƒ API í‚¤ë¥¼ ì „ë‹¬\n            const response = await (0,_lib_aiClient__WEBPACK_IMPORTED_MODULE_0__.generateRunningPlan)(conversationHistories[sid], apiKey);\n            // Add AI response to history\n            conversationHistories[sid].push({\n                role: \"model\",\n                text: response.text\n            });\n            // Send response with plan data if available\n            res.status(200).json({\n                text: response.text,\n                id: Date.now().toString(),\n                planData: response.planData\n            });\n        } catch (apiError) {\n            console.error(\"Gemini API Error:\", apiError);\n            // ì„œë²„ ë¡œê·¸ë¥¼ ìœ„í•œ ì—ëŸ¬ ì •ë³´\n            if (apiError instanceof Error) {\n                console.error(`Error message: ${apiError.message}`);\n                console.error(`Error stack: ${apiError.stack}`);\n            }\n            // Fallback to mock response if API fails\n            const mockResponse = mockChatResponse(message);\n            // Add mock response to history\n            conversationHistories[sid].push({\n                role: \"model\",\n                text: mockResponse\n            });\n            // ëª¨ì˜ í”Œëœ ë°ì´í„° ìƒì„±\n            const mockPlanData = createMockPlanData(message);\n            res.status(200).json({\n                text: mockResponse,\n                id: Date.now().toString(),\n                planData: mockPlanData\n            });\n        }\n    } catch (error) {\n        console.error(\"Chat API Error:\", error);\n        res.status(500).json({\n            text: \"ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\",\n            id: Date.now().toString()\n        });\n    }\n}\n// Fallback mock response (used when Gemini API fails or for testing)\nconst mockChatResponse = (message)=>{\n    // ë” êµ¬ì²´ì ì¸ ì‘ë‹µ íŒ¨í„´\n    if (message.toLowerCase().includes(\"ì•ˆë…•\") || message.toLowerCase().includes(\"hi\") || message.toLowerCase().includes(\"hello\")) {\n        return \"ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” ëŸ¬ë‹ ì½”ì¹˜ì…ë‹ˆë‹¤. ì˜¤ëŠ˜ì€ ì–´ë–¤ ëŸ¬ë‹ ê³„íšì„ ë„ì™€ë“œë¦´ê¹Œìš”? í‰ì†Œ ë‹¬ë¦¬ê¸° ê²½í—˜ì´ë‚˜ ëª©í‘œ ê±°ë¦¬ê°€ ìˆìœ¼ì‹ ê°€ìš”?\";\n    }\n    if (message.toLowerCase().includes(\"ì²˜ìŒ\") || message.toLowerCase().includes(\"ì´ˆë³´\") || message.toLowerCase().includes(\"beginner\")) {\n        return \"ì²˜ìŒ ë‹¬ë¦¬ê¸°ë¥¼ ì‹œì‘í•˜ì‹œëŠ”êµ°ìš”! ì¢‹ìŠµë‹ˆë‹¤. ì´ˆë³´ìì—ê²ŒëŠ” ê±·ê¸°ì™€ ë‹¬ë¦¬ê¸°ë¥¼ ë²ˆê°ˆì•„ê°€ë©° ì‹œì‘í•˜ëŠ” ë°©ë²•ì„ ì¶”ì²œí•´ ë“œë ¤ìš”. ì˜ˆë¥¼ ë“¤ì–´ 2ë¶„ ê±·ê³  1ë¶„ ë‹¬ë¦¬ê¸°ë¥¼ ë°˜ë³µí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ 20-30ë¶„ê°„ ìš´ë™í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì ì°¨ ë‹¬ë¦¬ëŠ” ì‹œê°„ì„ ëŠ˜ë ¤ê°€ì„¸ìš”. ìš´ë™í™”ëŠ” í¸ì•ˆí•œ ê²ƒìœ¼ë¡œ ì„ íƒí•˜ì‹œê³ , ë¬´ë¦¬í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. íŠ¹ì • í”„ë¡œê·¸ë¨ì„ ì›í•˜ì‹œë‚˜ìš”?\";\n    }\n    if (message.toLowerCase().includes(\"5k\") || message.toLowerCase().includes(\"5km\") || message.includes(\"5\") && message.includes(\"km\")) {\n        return \"5km ëŸ¬ë‹ì„ ì¤€ë¹„í•˜ê³  ê³„ì‹œêµ°ìš”! ì¢‹ì€ ëª©í‘œì…ë‹ˆë‹¤. ì²˜ìŒ 5kmì— ë„ì „í•˜ì‹ ë‹¤ë©´, 4-6ì£¼ ì •ë„ì˜ í›ˆë ¨ ê³„íšì´ í•„ìš”í•©ë‹ˆë‹¤. ì£¼ 3-4íšŒ, ê° 30-40ë¶„ì”© í›ˆë ¨í•˜ëŠ” ê²ƒì´ ì¢‹ìœ¼ë©°, ì²˜ìŒì—ëŠ” ê±·ê¸°ì™€ ë‹¬ë¦¬ê¸°ë¥¼ ë²ˆê°ˆì•„ê°€ë©´ì„œ ì ì°¨ ë‹¬ë¦¬ëŠ” ì‹œê°„ì„ ëŠ˜ë ¤ê°€ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. êµ¬ì²´ì ì¸ ì£¼ê°„ ê³„íšì„ ì„¸ì›Œë“œë¦´ê¹Œìš”?\";\n    }\n    if (message.toLowerCase().includes(\"10k\") || message.toLowerCase().includes(\"10km\") || message.includes(\"10\") && message.includes(\"km\")) {\n        return \"10km ëŸ¬ë‹ì„ ê³„íší•˜ê³  ê³„ì‹œëŠ”êµ°ìš”! í›Œë¥­í•©ë‹ˆë‹¤. 10km í›ˆë ¨ì€ ê¸°ì´ˆ ì²´ë ¥ì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ì´ë¯¸ 5kmë¥¼ ì™„ì£¼í•  ìˆ˜ ìˆë‹¤ë©´, 8-10ì£¼ê°„ì˜ í›ˆë ¨ìœ¼ë¡œ 10kmì— ë„ì „í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì£¼ 4íšŒ í›ˆë ¨ì„ ê¶Œì¥í•˜ë©°, ê¸´ ê±°ë¦¬ ë‹¬ë¦¬ê¸° 1íšŒ(ì ì§„ì ìœ¼ë¡œ 6kmâ†’8kmâ†’10kmë¡œ ëŠ˜ë¦¼), ì§§ì€ ì¸í„°ë²Œ í›ˆë ¨ 1íšŒ, ê°€ë²¼ìš´ ì¡°ê¹… 2íšŒë¡œ êµ¬ì„±í•˜ëŠ” ê²ƒì´ íš¨ê³¼ì ì…ë‹ˆë‹¤. ì–´ë–¤ í˜„ì¬ ëŸ¬ë‹ ê²½í—˜ì´ ìˆìœ¼ì‹ ê°€ìš”?\";\n    }\n    if (message.toLowerCase().includes(\"ë§ˆë¼í†¤\") || message.toLowerCase().includes(\"marathon\") || message.toLowerCase().includes(\"42km\")) {\n        return \"ë§ˆë¼í†¤ ë„ì „ì„ ê³ ë ¤í•˜ê³  ê³„ì‹œëŠ”êµ°ìš”! ë§ˆë¼í†¤ì€ ì²´ê³„ì ì¸ í›ˆë ¨ì´ í•„ìš”í•©ë‹ˆë‹¤. í•˜í”„ ë§ˆë¼í†¤ì„ ì™„ì£¼í•œ ê²½í—˜ì´ ìˆë‹¤ë©´, 16-20ì£¼ í›ˆë ¨ í”„ë¡œê·¸ë¨ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤. ì£¼ìš” í›ˆë ¨ì€ ê¸´ ê±°ë¦¬ ë‹¬ë¦¬ê¸°(ìµœëŒ€ 32-35kmê¹Œì§€), í…œí¬ ëŸ°, ì¸í„°ë²Œ í›ˆë ¨ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ì£¼ 4-5íšŒ í›ˆë ¨í•˜ë©°, íšŒë³µê³¼ ì˜ì–‘ ê´€ë¦¬ë„ ì¤‘ìš”í•©ë‹ˆë‹¤. í˜„ì¬ ë‹¬ë¦¬ê¸° ê²½í—˜ê³¼ ëª©í‘œ ì™„ì£¼ ì‹œê°„ì´ ìˆìœ¼ì‹ ê°€ìš”?\";\n    }\n    if (message.toLowerCase().includes(\"ë¶€ìƒ\") || message.toLowerCase().includes(\"injury\") || message.toLowerCase().includes(\"ì•„íŒŒ\")) {\n        return \"ë¶€ìƒ ê´€ë¦¬ëŠ” ëŸ¬ë‹ì—ì„œ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. í†µì¦ì´ ìˆë‹¤ë©´ ìš°ì„  ì¶©ë¶„í•œ íœ´ì‹ì„ ì·¨í•˜ì„¸ìš”. RICE(Rest, Ice, Compression, Elevation) ìš”ë²•ì„ ì ìš©í•˜ê³ , ì‹¬í•œ í†µì¦ì´ ì§€ì†ë˜ë©´ ì „ë¬¸ì˜ ìƒë‹´ì„ ê¶Œì¥í•©ë‹ˆë‹¤. ë¶€ìƒ í›„ ëŸ¬ë‹ ë³µê·€ëŠ” ì²œì²œíˆ ì§„í–‰í•´ì•¼ í•©ë‹ˆë‹¤. ì´ˆê¸°ì—ëŠ” ê±°ë¦¬ì™€ ê°•ë„ë¥¼ 50% ì •ë„ë¡œ ì¤„ì´ê³ , 2ì£¼ì— ê±¸ì³ ì ì§„ì ìœ¼ë¡œ ëŠ˜ë ¤ê°€ì„¸ìš”. êµ¬ì²´ì ìœ¼ë¡œ ì–´ë–¤ ë¶€ìœ„ì— í†µì¦ì´ ìˆìœ¼ì‹ ê°€ìš”?\";\n    }\n    if (message.toLowerCase().includes(\"í˜ì´ìŠ¤\") || message.toLowerCase().includes(\"pace\") || message.toLowerCase().includes(\"ì†ë„\")) {\n        return \"ì ì ˆí•œ ëŸ¬ë‹ í˜ì´ìŠ¤ëŠ” ëª©í‘œì™€ ê²½í—˜ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤. ì´ˆë³´ìëŠ” ëŒ€í™”ê°€ ê°€ëŠ¥í•œ ì •ë„ì˜ í¸ì•ˆí•œ í˜ì´ìŠ¤(ì•½ 6:30-7:30/km)ë¡œ ë‹¬ë¦¬ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. 5km ëª©í‘œê°€ ìˆë‹¤ë©´ ì•½ 6:00/km, 10kmëŠ” 6:15/km, í•˜í”„ ë§ˆë¼í†¤ì€ 6:30/km, í’€ ë§ˆë¼í†¤ì€ 6:45/km ì •ë„ê°€ ì´ˆë³´-ì¤‘ê¸‰ìì˜ í‰ê· ì ì¸ í˜ì´ìŠ¤ì…ë‹ˆë‹¤. ì£¼ í›ˆë ¨ì˜ 80%ëŠ” í¸ì•ˆí•œ í˜ì´ìŠ¤ë¡œ, 20%ëŠ” ë” ë¹ ë¥¸ í˜ì´ìŠ¤ë¡œ ì§„í–‰í•˜ëŠ” ê²ƒì´ íš¨ê³¼ì ì…ë‹ˆë‹¤. í˜„ì¬ ì–´ëŠ ì •ë„ì˜ í˜ì´ìŠ¤ë¡œ ë‹¬ë¦¬ê³  ê³„ì‹ ê°€ìš”?\";\n    }\n    if (message.toLowerCase().includes(\"ì‹ë‹¨\") || message.toLowerCase().includes(\"ì˜ì–‘\") || message.toLowerCase().includes(\"nutrition\") || message.toLowerCase().includes(\"diet\")) {\n        return \"ëŸ¬ë„ˆë¥¼ ìœ„í•œ ì˜ì–‘ ê´€ë¦¬ëŠ” ì¤‘ìš”í•©ë‹ˆë‹¤. íƒ„ìˆ˜í™”ë¬¼(ì „ì²´ ì¹¼ë¡œë¦¬ì˜ 50-60%), ë‹¨ë°±ì§ˆ(15-20%), ê±´ê°•í•œ ì§€ë°©(20-30%)ì˜ ê· í˜• ì¡íŒ ì‹ë‹¨ì´ ì¢‹ìŠµë‹ˆë‹¤. ì¥ê±°ë¦¬ ë‹¬ë¦¬ê¸° ì „ì—ëŠ” íƒ„ìˆ˜í™”ë¬¼ ë¹„ì¤‘ì„ ë†’ì´ê³ , ë‹¬ë¦¬ê¸° 30-60ë¶„ ì „ì— ê°€ë³ê²Œ íƒ„ìˆ˜í™”ë¬¼ ìœ„ì£¼ë¡œ ì„­ì·¨í•˜ì„¸ìš”. ë‹¬ë¦¬ê¸° í›„ì—ëŠ” 30ë¶„ ì´ë‚´ì— ë‹¨ë°±ì§ˆê³¼ íƒ„ìˆ˜í™”ë¬¼ì„ í•¨ê»˜ ì„­ì·¨í•˜ëŠ” ê²ƒì´ íšŒë³µì— ë„ì›€ì´ ë©ë‹ˆë‹¤. ìˆ˜ë¶„ ì„­ì·¨ë„ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. íŠ¹ë³„íˆ ê¶ê¸ˆí•œ ë¶€ë¶„ì´ ìˆìœ¼ì‹ ê°€ìš”?\";\n    }\n    if (message.toLowerCase().includes(\"ì¥ë¹„\") || message.toLowerCase().includes(\"ì‹ ë°œ\") || message.toLowerCase().includes(\"shoes\") || message.toLowerCase().includes(\"gear\")) {\n        return \"ì¢‹ì€ ëŸ¬ë‹ ì¥ë¹„ëŠ” ê²½í—˜ì„ í¬ê²Œ í–¥ìƒì‹œí‚µë‹ˆë‹¤. ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ ìì‹ ì˜ ë°œ í˜•íƒœì™€ ëŸ¬ë‹ ìŠ¤íƒ€ì¼ì— ë§ëŠ” ëŸ¬ë‹í™”ì…ë‹ˆë‹¤. ì „ë¬¸ ëŸ¬ë‹ ë§¤ì¥ì—ì„œ ë°œ ë¶„ì„(gait analysis)ì„ ë°›ì•„ë³´ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤. ê¸°ëŠ¥ì„± ì˜ë¥˜ëŠ” ë•€ ë°°ì¶œì´ ì˜ ë˜ëŠ” ì†Œì¬ê°€ ì¢‹ìœ¼ë©°, ê³„ì ˆì— ë§ëŠ” ë ˆì´ì–´ë§ì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ë˜í•œ ì¥ê±°ë¦¬ ëŸ¬ë‹ ì‹œì—ëŠ” ìˆ˜ë¶„ê³¼ ì˜ì–‘ ë³´ì¶©ì„ ìœ„í•œ ë²¨íŠ¸ë‚˜ ìˆ˜ë¶„ íŒ©ë„ ê³ ë ¤í•´ë³´ì„¸ìš”. ì–´ë–¤ ì¢…ë¥˜ì˜ ì¥ë¹„ì— ê´€ì‹¬ì´ ìˆìœ¼ì‹ ê°€ìš”?\";\n    }\n    // ì¼ë°˜ì ì¸ ëŸ¬ë‹ ê´€ë ¨ ì§ˆë¬¸\n    if (message.toLowerCase().includes(\"ëŸ¬ë‹\") || message.toLowerCase().includes(\"ë‹¬ë¦¬ê¸°\") || message.toLowerCase().includes(\"running\") || message.toLowerCase().includes(\"jogging\")) {\n        return \"ëŸ¬ë‹ì€ ì‹ ì²´ì , ì •ì‹ ì  ê±´ê°•ì— ë§¤ìš° ì¢‹ì€ ìš´ë™ì…ë‹ˆë‹¤. ì¢‹ì€ ëŸ¬ë‹ ê³„íšì„ ì„¸ìš°ê¸° ìœ„í•´ì„œëŠ” í˜„ì¬ ì²´ë ¥ ìˆ˜ì¤€, ëª©í‘œ, ê°€ìš© ì‹œê°„ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤. ì´ˆë³´ìë¼ë©´ ì£¼ 3íšŒ, ê° 20-30ë¶„ë¶€í„° ì‹œì‘í•˜ì—¬ ì ì§„ì ìœ¼ë¡œ ëŠ˜ë ¤ê°€ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì •ê¸°ì ì¸ ëŸ¬ë‹ì€ ì‹¬í ê¸°ëŠ¥ ê°•í™”, ìŠ¤íŠ¸ë ˆìŠ¤ ê°ì†Œ, ìˆ˜ë©´ ê°œì„  ë“±ì˜ íš¨ê³¼ê°€ ìˆìŠµë‹ˆë‹¤. êµ¬ì²´ì ì¸ ëª©í‘œë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ ë§ì”€í•´ì£¼ì„¸ìš”.\";\n    }\n    if (message.toLowerCase().includes(\"ê³„íš\") || message.toLowerCase().includes(\"í”Œëœ\") || message.toLowerCase().includes(\"plan\") || message.toLowerCase().includes(\"schedule\")) {\n        return \"íš¨ê³¼ì ì¸ ëŸ¬ë‹ ê³„íšì€ ëª©í‘œ, í˜„ì¬ ì²´ë ¥ ìˆ˜ì¤€, ê·¸ë¦¬ê³  ìƒí™œ íŒ¨í„´ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤. ì´ˆë³´ìëŠ” ì£¼ 3-4íšŒ, ì¤‘ê¸‰ìëŠ” 4-5íšŒ, ê³ ê¸‰ìëŠ” 5-6íšŒ í›ˆë ¨ì´ ì ì ˆí•©ë‹ˆë‹¤. í›ˆë ¨ì˜ ì¢…ë¥˜ë„ ë‹¤ì–‘í™”í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤: ê¸´ ê±°ë¦¬ ë‹¬ë¦¬ê¸°(ì´ ê±°ë¦¬ì˜ 30-40%), íšŒë³µ ë‹¬ë¦¬ê¸°, ì†ë„ í›ˆë ¨(ì¸í„°ë²Œ, í…œí¬ ëŸ°)ì„ í¬í•¨ì‹œí‚¤ì„¸ìš”. ë˜í•œ ìµœì†Œ 1-2ì¼ì˜ íœ´ì‹ì¼ì„ ë°˜ë“œì‹œ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤. ì–´ë–¤ ìˆ˜ì¤€ì˜ ëŸ¬ë‹ ê³„íšì´ í•„ìš”í•˜ì‹ ê°€ìš”?\";\n    }\n    // ê¸°ë³¸ ì‘ë‹µ\n    return \"ëŸ¬ë‹ ê³„íšì— ëŒ€í•´ ë„ì›€ì´ í•„ìš”í•˜ì‹œêµ°ìš”. í˜„ì¬ ë‹¬ë¦¬ê¸° ê²½í—˜, ëª©í‘œ ê±°ë¦¬, ëª©í‘œ ì‹œê°„ ë“±ì„ ì•Œë ¤ì£¼ì‹œë©´ ë” êµ¬ì²´ì ì¸ ê³„íšì„ ì„¸ì›Œë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í‰ì†Œ ìš´ë™ ë¹ˆë„ë‚˜ ê±´ê°• ìƒíƒœì— ëŒ€í•´ì„œë„ ì•Œë ¤ì£¼ì‹œë©´ ë„ì›€ì´ ë©ë‹ˆë‹¤. ì–´ë–¤ ë¶€ë¶„ì— ê´€ì‹¬ì´ ìˆìœ¼ì‹ ê°€ìš”?\";\n};\n// ëª¨ì˜ í”Œëœ ë°ì´í„° ìƒì„± í•¨ìˆ˜\nfunction createMockPlanData(message) {\n    const now = new Date();\n    const formattedDate = `${now.getFullYear()}ë…„ ${now.getMonth() + 1}ì›” ${now.getDate()}ì¼ (${getKoreanDayOfWeek(now)}) ì˜¤ì „ 7:00`;\n    // 5km ëŸ¬ë‹ í”Œëœ\n    if (message.toLowerCase().includes(\"5k\") || message.toLowerCase().includes(\"5km\") || message.includes(\"5\") && message.includes(\"km\")) {\n        return {\n            title: \"ì´ˆë³´ìë¥¼ ìœ„í•œ 5K ëŸ¬ë‹ í”Œëœ\",\n            date: formattedDate,\n            distance: \"5 km\",\n            duration: \"ì•½ 35ë¶„\",\n            intensity: \"ê°€ë²¼ì›€ - ì¤‘ê°„\",\n            details: \"ì¤€ë¹„ìš´ë™ 5ë¶„ â†’ 5ë¶„ ì¡°ê¹…/1ë¶„ ê±·ê¸° ë°˜ë³µ(ì´ 25ë¶„) â†’ ì •ë¦¬ìš´ë™ 5ë¶„\"\n        };\n    }\n    // 10km ëŸ¬ë‹ í”Œëœ\n    if (message.toLowerCase().includes(\"10k\") || message.toLowerCase().includes(\"10km\") || message.includes(\"10\") && message.includes(\"km\")) {\n        return {\n            title: \"ì¤‘ê¸‰ìë¥¼ ìœ„í•œ 10K ëŸ¬ë‹ í”Œëœ\",\n            date: formattedDate,\n            distance: \"10 km\",\n            duration: \"ì•½ 1ì‹œê°„\",\n            intensity: \"ì¤‘ê°„\",\n            details: \"ì¤€ë¹„ìš´ë™ 10ë¶„ â†’ 5:30-6:00/km í˜ì´ìŠ¤ë¡œ 10km ë‹¬ë¦¬ê¸° â†’ ì •ë¦¬ìš´ë™ 5ë¶„\"\n        };\n    }\n    // ê¸°ë³¸ ì£¼ë§ ëŸ¬ë‹ í”Œëœ\n    return {\n        title: \"ì£¼ë§ ëŸ¬ë‹ í”Œëœ\",\n        date: formattedDate,\n        distance: \"7 km\",\n        duration: \"ì•½ 45ë¶„\",\n        intensity: \"ì¤‘ê°„\",\n        details: \"ì¤€ë¹„ìš´ë™ 8ë¶„ â†’ 6:00/km í˜ì´ìŠ¤ë¡œ í¸ì•ˆí•˜ê²Œ 7km ë‹¬ë¦¬ê¸° â†’ ì •ë¦¬ìš´ë™ 7ë¶„\"\n    };\n}\n// í•œêµ­ì–´ ìš”ì¼ ë³€í™˜ í•¨ìˆ˜\nfunction getKoreanDayOfWeek(date) {\n    const days = [\n        \"ì¼\",\n        \"ì›”\",\n        \"í™”\",\n        \"ìˆ˜\",\n        \"ëª©\",\n        \"ê¸ˆ\",\n        \"í† \"\n    ];\n    return days[date.getDay()];\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNGO0lBRUEsY0FBYztJQUNkLE9BQU87UUFDTEwsT0FBTztRQUNQQyxNQUFNTjtRQUNOTyxVQUFVO1FBQ1ZDLFVBQVU7UUFDVkMsV0FBVztRQUNYQyxTQUFTO0lBQ1g7QUFDRjtBQUVBLGVBQWU7QUFDZixTQUFTTixtQkFBbUJFLElBQVU7SUFDcEMsTUFBTUssT0FBTztRQUFDO1FBQUs7UUFBSztRQUFLO1FBQUs7UUFBSztRQUFLO0tBQUk7SUFDaEQsT0FBT0EsSUFBSSxDQUFDTCxLQUFLTSxNQUFNLEdBQUc7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ydW4tcGxhbm5lci8uL3NyYy9wYWdlcy9hcGkvY2hhdC50cz83Mjk4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuaW1wb3J0IHsgZ2VuZXJhdGVSdW5uaW5nUGxhbiB9IGZyb20gJ0AvbGliL2FpQ2xpZW50JztcblxudHlwZSBDaGF0UmVzcG9uc2UgPSB7XG4gIHRleHQ6IHN0cmluZztcbiAgaWQ6IHN0cmluZztcbiAgcGxhbkRhdGE/OiBhbnk7IC8vIFJ1blBsYW4gZGF0YSB3aGVuIGF2YWlsYWJsZVxufTtcblxuLy8gSW4tbWVtb3J5IHN0b3JhZ2UgZm9yIGNvbnZlcnNhdGlvbiBoaXN0b3J5ICh3aWxsIGJlIHJlc2V0IG9uIHNlcnZlciByZXN0YXJ0KVxuLy8gSW4gYSBwcm9kdWN0aW9uIGFwcCwgeW91IHdvdWxkIHN0b3JlIHRoaXMgaW4gYSBkYXRhYmFzZSBvciBzZXNzaW9uXG5jb25zdCBjb252ZXJzYXRpb25IaXN0b3JpZXM6IFJlY29yZDxzdHJpbmcsIHsgcm9sZTogJ3VzZXInIHwgJ21vZGVsJzsgdGV4dDogc3RyaW5nIH1bXT4gPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2U8Q2hhdFJlc3BvbnNlPlxuKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcpIHtcbiAgICByZXMuc3RhdHVzKDQwNSkuZW5kKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IG1lc3NhZ2UsIHNlc3Npb25JZCB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgYXBpS2V5ID0gcHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVkgfHwgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR0VNSU5JX0FQSV9LRVk7XG4gICAgXG4gICAgaWYgKCFtZXNzYWdlIHx8IHR5cGVvZiBtZXNzYWdlICE9PSAnc3RyaW5nJykge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBcbiAgICAgICAgdGV4dDogJ+uplOyLnOyngOqwgCDsmKzrsJTrpbTsp4Ag7JWK7Iq164uI64ukLicsIFxuICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpIFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmICghYXBpS2V5KSB7XG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IFxuICAgICAgICB0ZXh0OiAnQVBJIO2CpOqwgCDtlYTsmpTtlanri4jri6QuIOyVsSDshKTsoJXsnYQg7ZmV7J247ZW07KO87IS47JqULicsIFxuICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpIFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIENyZWF0ZSBvciBnZXQgc2Vzc2lvbiBoaXN0b3J5XG4gICAgY29uc3Qgc2lkID0gc2Vzc2lvbklkIHx8ICdkZWZhdWx0JztcbiAgICBpZiAoIWNvbnZlcnNhdGlvbkhpc3Rvcmllc1tzaWRdKSB7XG4gICAgICBjb252ZXJzYXRpb25IaXN0b3JpZXNbc2lkXSA9IFtdO1xuICAgIH1cbiAgICBcbiAgICAvLyDrjIDtmZQg7Z6I7Iqk7Yag66as6rCAIOuEiOustCDquLjslrTsp4Dsp4Ag7JWK64+E66GdIOy1nOuMgCAxMOqwnCDrqZTsi5zsp4Drp4wg7Jyg7KeAXG4gICAgaWYgKGNvbnZlcnNhdGlvbkhpc3Rvcmllc1tzaWRdLmxlbmd0aCA+PSAyMCkge1xuICAgICAgLy8g7LKY7J2MIOuplOyLnOyngOuKlCDsi5zsiqTthZwg7ZSE66Gs7ZSE7Yq47J28IOyImCDsnojsnLzrr4DroZwg7Jyg7KeAXG4gICAgICBjb25zdCBmaXJzdE1lc3NhZ2UgPSBjb252ZXJzYXRpb25IaXN0b3JpZXNbc2lkXVswXTtcbiAgICAgIC8vIOy1nOq3vCA56rCcIOuplOyLnOyngOunjCDsnKDsp4BcbiAgICAgIGNvbnZlcnNhdGlvbkhpc3Rvcmllc1tzaWRdID0gW1xuICAgICAgICBmaXJzdE1lc3NhZ2UsXG4gICAgICAgIC4uLmNvbnZlcnNhdGlvbkhpc3Rvcmllc1tzaWRdLnNsaWNlKC05KVxuICAgICAgXTtcbiAgICB9XG4gICAgXG4gICAgLy8gQWRkIHVzZXIgbWVzc2FnZSB0byBoaXN0b3J5XG4gICAgY29udmVyc2F0aW9uSGlzdG9yaWVzW3NpZF0ucHVzaCh7XG4gICAgICByb2xlOiAndXNlcicsXG4gICAgICB0ZXh0OiBtZXNzYWdlXG4gICAgfSk7XG4gICAgXG4gICAgLy8gQ2FsbCBHZW1pbmkgQVBJXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGBDYWxsaW5nIEdlbWluaSBBUEkgd2l0aCBzZXNzaW9uICR7c2lkfSwgbWVzc2FnZTogJHttZXNzYWdlLnN1YnN0cmluZygwLCA1MCl9Li4uYCk7XG4gICAgICBcbiAgICAgIC8vIO2VreyDgSBBUEkg7YKk66W8IOyghOuLrFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZW5lcmF0ZVJ1bm5pbmdQbGFuKGNvbnZlcnNhdGlvbkhpc3Rvcmllc1tzaWRdLCBhcGlLZXkpO1xuICAgICAgXG4gICAgICAvLyBBZGQgQUkgcmVzcG9uc2UgdG8gaGlzdG9yeVxuICAgICAgY29udmVyc2F0aW9uSGlzdG9yaWVzW3NpZF0ucHVzaCh7XG4gICAgICAgIHJvbGU6ICdtb2RlbCcsXG4gICAgICAgIHRleHQ6IHJlc3BvbnNlLnRleHRcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTZW5kIHJlc3BvbnNlIHdpdGggcGxhbiBkYXRhIGlmIGF2YWlsYWJsZVxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICB0ZXh0OiByZXNwb25zZS50ZXh0LFxuICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICBwbGFuRGF0YTogcmVzcG9uc2UucGxhbkRhdGFcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGFwaUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdHZW1pbmkgQVBJIEVycm9yOicsIGFwaUVycm9yKTtcbiAgICAgIFxuICAgICAgLy8g7ISc67KEIOuhnOq3uOulvCDsnITtlZwg7JeQ65+sIOygleuztFxuICAgICAgaWYgKGFwaUVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgbWVzc2FnZTogJHthcGlFcnJvci5tZXNzYWdlfWApO1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBzdGFjazogJHthcGlFcnJvci5zdGFja31gKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRmFsbGJhY2sgdG8gbW9jayByZXNwb25zZSBpZiBBUEkgZmFpbHNcbiAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IG1vY2tDaGF0UmVzcG9uc2UobWVzc2FnZSk7XG4gICAgICBcbiAgICAgIC8vIEFkZCBtb2NrIHJlc3BvbnNlIHRvIGhpc3RvcnlcbiAgICAgIGNvbnZlcnNhdGlvbkhpc3Rvcmllc1tzaWRdLnB1c2goe1xuICAgICAgICByb2xlOiAnbW9kZWwnLFxuICAgICAgICB0ZXh0OiBtb2NrUmVzcG9uc2VcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyDrqqjsnZgg7ZSM656cIOuNsOydtO2EsCDsg53shLFcbiAgICAgIGNvbnN0IG1vY2tQbGFuRGF0YSA9IGNyZWF0ZU1vY2tQbGFuRGF0YShtZXNzYWdlKTtcbiAgICAgIFxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICB0ZXh0OiBtb2NrUmVzcG9uc2UsXG4gICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgIHBsYW5EYXRhOiBtb2NrUGxhbkRhdGFcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdDaGF0IEFQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcbiAgICAgIHRleHQ6ICfshJzrsoQg7Jik66WY6rCAIOuwnOyDne2WiOyKteuLiOuLpC4g7J6g7IucIO2bhCDri6Tsi5wg7Iuc64+E7ZW07KO87IS47JqULicsIFxuICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSBcbiAgICB9KTtcbiAgfVxufVxuXG4vLyBGYWxsYmFjayBtb2NrIHJlc3BvbnNlICh1c2VkIHdoZW4gR2VtaW5pIEFQSSBmYWlscyBvciBmb3IgdGVzdGluZylcbmNvbnN0IG1vY2tDaGF0UmVzcG9uc2UgPSAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gIC8vIOuNlCDqtazssrTsoIHsnbgg7J2R64u1IO2MqO2EtFxuICBpZiAobWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCfslYjrhZUnKSB8fCBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2hpJykgfHwgbWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdoZWxsbycpKSB7XG4gICAgcmV0dXJuICfslYjrhZXtlZjshLjsmpQhIOyggOuKlCDrn6zri50g7L2U7LmY7J6F64uI64ukLiDsmKTripjsnYAg7Ja065akIOufrOuLnSDqs4Ttmo3snYQg64+E7JmA65Oc66a06rmM7JqUPyDtj4nshowg64us66as6riwIOqyve2XmOydtOuCmCDrqqntkZwg6rGw66as6rCAIOyeiOycvOyLoOqwgOyalD8nO1xuICB9XG4gIFxuICBpZiAobWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCfsspjsnYwnKSB8fCBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ+y0iOuztCcpIHx8IG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYmVnaW5uZXInKSkge1xuICAgIHJldHVybiAn7LKY7J2MIOuLrOumrOq4sOulvCDsi5zsnpHtlZjsi5zripTqtbDsmpQhIOyii+yKteuLiOuLpC4g7LSI67O07J6Q7JeQ6rKM64qUIOqxt+q4sOyZgCDri6zrpqzquLDrpbwg67KI6rCI7JWE6rCA66mwIOyLnOyeke2VmOuKlCDrsKnrspXsnYQg7LaU7LKc7ZW0IOuTnOugpOyalC4g7JiI66W8IOuTpOyWtCAy67aEIOqxt+qzoCAx67aEIOuLrOumrOq4sOulvCDrsJjrs7XtlZjripQg67Cp7Iud7Jy866GcIDIwLTMw67aE6rCEIOyatOuPme2VmOuKlCDqsoPsnbQg7KKL7Iq164uI64ukLiDsoJDssKgg64us66as64qUIOyLnOqwhOydhCDripjroKTqsIDshLjsmpQuIOyatOuPme2ZlOuKlCDtjrjslYjtlZwg6rKD7Jy866GcIOyEoO2Dne2VmOyLnOqzoCwg66y066as7ZWY7KeAIOyViuuKlCDqsoPsnbQg7KSR7JqU7ZWp64uI64ukLiDtirnsoJUg7ZSE66Gc6re4656o7J2EIOybkO2VmOyLnOuCmOyalD8nO1xuICB9XG4gIFxuICBpZiAobWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCc1aycpIHx8IG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnNWttJykgfHwgKG1lc3NhZ2UuaW5jbHVkZXMoJzUnKSAmJiBtZXNzYWdlLmluY2x1ZGVzKCdrbScpKSkge1xuICAgIHJldHVybiAnNWttIOufrOuLneydhCDspIDruYTtlZjqs6Ag6rOE7Iuc6rWw7JqUISDsoovsnYAg66qp7ZGc7J6F64uI64ukLiDsspjsnYwgNWtt7JeQIOuPhOyghO2VmOyLoOuLpOuptCwgNC027KO8IOygleuPhOydmCDtm4jroKgg6rOE7ZqN7J20IO2VhOyalO2VqeuLiOuLpC4g7KO8IDMtNO2ajCwg6rCBIDMwLTQw67aE7JSpIO2biOugqO2VmOuKlCDqsoPsnbQg7KKL7Jy866mwLCDsspjsnYzsl5DripQg6rG36riw7JmAIOuLrOumrOq4sOulvCDrsojqsIjslYTqsIDrqbTshJwg7KCQ7LCoIOuLrOumrOuKlCDsi5zqsITsnYQg64qY66Ck6rCA64qUIOqyg+ydtCDsoovsirXri4jri6QuIOq1rOyytOyggeyduCDso7zqsIQg6rOE7ZqN7J2EIOyEuOybjOuTnOumtOq5jOyalD8nO1xuICB9XG4gIFxuICBpZiAobWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCcxMGsnKSB8fCBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJzEwa20nKSB8fCAobWVzc2FnZS5pbmNsdWRlcygnMTAnKSAmJiBtZXNzYWdlLmluY2x1ZGVzKCdrbScpKSkge1xuICAgIHJldHVybiAnMTBrbSDrn6zri53snYQg6rOE7ZqN7ZWY6rOgIOqzhOyLnOuKlOq1sOyalCEg7ZuM66Wt7ZWp64uI64ukLiAxMGttIO2biOugqOydgCDquLDstIgg7LK066Cl7J20IOykkeyalO2VqeuLiOuLpC4g7J2066+4IDVrbeulvCDsmYTso7ztlaAg7IiYIOyeiOuLpOuptCwgOC0xMOyjvOqwhOydmCDtm4jroKjsnLzroZwgMTBrbeyXkCDrj4TsoITtlaAg7IiYIOyeiOyKteuLiOuLpC4g7KO8IDTtmowg7ZuI66Co7J2EIOq2jOyepe2VmOupsCwg6ri0IOqxsOumrCDri6zrpqzquLAgMe2ajCjsoJDsp4TsoIHsnLzroZwgNmtt4oaSOGtt4oaSMTBrbeuhnCDripjrprwpLCDsp6fsnYAg7J247YSw67KMIO2biOugqCAx7ZqMLCDqsIDrsrzsmrQg7KGw6rmFIDLtmozroZwg6rWs7ISx7ZWY64qUIOqyg+ydtCDtmqjqs7zsoIHsnoXri4jri6QuIOyWtOuWpCDtmITsnqwg65+s64udIOqyve2XmOydtCDsnojsnLzsi6DqsIDsmpQ/JztcbiAgfVxuICBcbiAgaWYgKG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygn66eI65287YakJykgfHwgbWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdtYXJhdGhvbicpIHx8IG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnNDJrbScpKSB7XG4gICAgcmV0dXJuICfrp4jrnbzthqQg64+E7KCE7J2EIOqzoOugpO2VmOqzoCDqs4Tsi5zripTqtbDsmpQhIOuniOudvO2GpOydgCDssrTqs4TsoIHsnbgg7ZuI66Co7J20IO2VhOyalO2VqeuLiOuLpC4g7ZWY7ZSEIOuniOudvO2GpOydhCDsmYTso7ztlZwg6rK97ZeY7J20IOyeiOuLpOuptCwgMTYtMjDso7wg7ZuI66CoIO2UhOuhnOq3uOueqOydhCDstpTsspzrk5zrpr3ri4jri6QuIOyjvOyalCDtm4jroKjsnYAg6ri0IOqxsOumrCDri6zrpqzquLAo7LWc64yAIDMyLTM1a23quYzsp4ApLCDthZztj6wg65+wLCDsnbjthLDrsowg7ZuI66Co7Jy866GcIOq1rOyEseuQqeuLiOuLpC4g7KO8IDQtNe2ajCDtm4jroKjtlZjrqbAsIO2ajOuzteqzvCDsmIHslpEg6rSA66as64+EIOykkeyalO2VqeuLiOuLpC4g7ZiE7J6sIOuLrOumrOq4sCDqsr3tl5jqs7wg66qp7ZGcIOyZhOyjvCDsi5zqsITsnbQg7J6I7Jy87Iug6rCA7JqUPyc7XG4gIH1cbiAgXG4gIGlmIChtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ+u2gOyDgScpIHx8IG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnaW5qdXJ5JykgfHwgbWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCfslYTtjIwnKSkge1xuICAgIHJldHVybiAn67aA7IOBIOq0gOumrOuKlCDrn6zri53sl5DshJwg66ek7JqwIOykkeyalO2VqeuLiOuLpC4g7Ya17Kad7J20IOyeiOuLpOuptCDsmrDshKAg7Lap67aE7ZWcIO2ctOyLneydhCDst6jtlZjshLjsmpQuIFJJQ0UoUmVzdCwgSWNlLCBDb21wcmVzc2lvbiwgRWxldmF0aW9uKSDsmpTrspXsnYQg7KCB7Jqp7ZWY6rOgLCDsi6ztlZwg7Ya17Kad7J20IOyngOyGjeuQmOuptCDsoITrrLjsnZgg7IOB64u07J2EIOq2jOyepe2VqeuLiOuLpC4g67aA7IOBIO2bhCDrn6zri50g67O16reA64qUIOyynOyynO2eiCDsp4TtlontlbTslbwg7ZWp64uI64ukLiDstIjquLDsl5DripQg6rGw66as7JmAIOqwleuPhOulvCA1MCUg7KCV64+E66GcIOykhOydtOqzoCwgMuyjvOyXkCDqsbjss5Ag7KCQ7KeE7KCB7Jy866GcIOuKmOugpOqwgOyEuOyalC4g6rWs7LK07KCB7Jy866GcIOyWtOuWpCDrtoDsnITsl5Ag7Ya17Kad7J20IOyeiOycvOyLoOqwgOyalD8nO1xuICB9XG4gIFxuICBpZiAobWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCftjpjsnbTsiqQnKSB8fCBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3BhY2UnKSB8fCBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ+yGjeuPhCcpKSB7XG4gICAgcmV0dXJuICfsoIHsoIjtlZwg65+s64udIO2OmOydtOyKpOuKlCDrqqntkZzsmYAg6rK97ZeY7JeQIOuUsOudvCDri6TrpoXri4jri6QuIOy0iOuztOyekOuKlCDrjIDtmZTqsIAg6rCA64ql7ZWcIOygleuPhOydmCDtjrjslYjtlZwg7Y6Y7J207IqkKOyVvSA2OjMwLTc6MzAva20p66GcIOuLrOumrOuKlCDqsoPsnbQg7KKL7Iq164uI64ukLiA1a20g66qp7ZGc6rCAIOyeiOuLpOuptCDslb0gNjowMC9rbSwgMTBrbeuKlCA2OjE1L2ttLCDtlZjtlIQg66eI65287Yak7J2AIDY6MzAva20sIO2SgCDrp4jrnbzthqTsnYAgNjo0NS9rbSDsoJXrj4TqsIAg7LSI67O0Leykkeq4ieyekOydmCDtj4nqt6DsoIHsnbgg7Y6Y7J207Iqk7J6F64uI64ukLiDso7wg7ZuI66Co7J2YIDgwJeuKlCDtjrjslYjtlZwg7Y6Y7J207Iqk66GcLCAyMCXripQg642UIOu5oOuluCDtjpjsnbTsiqTroZwg7KeE7ZaJ7ZWY64qUIOqyg+ydtCDtmqjqs7zsoIHsnoXri4jri6QuIO2YhOyerCDslrTripAg7KCV64+E7J2YIO2OmOydtOyKpOuhnCDri6zrpqzqs6Ag6rOE7Iug6rCA7JqUPyc7XG4gIH1cbiAgXG4gIGlmIChtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ+yLneuLqCcpIHx8IG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygn7JiB7JaRJykgfHwgbWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdudXRyaXRpb24nKSB8fCBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2RpZXQnKSkge1xuICAgIHJldHVybiAn65+s64SI66W8IOychO2VnCDsmIHslpEg6rSA66as64qUIOykkeyalO2VqeuLiOuLpC4g7YOE7IiY7ZmU66y8KOyghOyytCDsubzroZzrpqzsnZggNTAtNjAlKSwg64uo67Cx7KeIKDE1LTIwJSksIOqxtOqwle2VnCDsp4DrsKkoMjAtMzAlKeydmCDqt6DtmJUg7J6h7Z6MIOyLneuLqOydtCDsoovsirXri4jri6QuIOyepeqxsOumrCDri6zrpqzquLAg7KCE7JeQ64qUIO2DhOyImO2ZlOusvCDruYTspJHsnYQg64aS7J206rOgLCDri6zrpqzquLAgMzAtNjDrtoQg7KCE7JeQIOqwgOuzjeqyjCDtg4TsiJjtmZTrrLwg7JyE7KO866GcIOyErey3qO2VmOyEuOyalC4g64us66as6riwIO2bhOyXkOuKlCAzMOu2hCDsnbTrgrTsl5Ag64uo67Cx7KeI6rO8IO2DhOyImO2ZlOusvOydhCDtlajqu5gg7ISt7Leo7ZWY64qUIOqyg+ydtCDtmozrs7Xsl5Ag64+E7JuA7J20IOuQqeuLiOuLpC4g7IiY67aEIOyErey3qOuPhCDrp6TsmrAg7KSR7JqU7ZWp64uI64ukLiDtirnrs4Ttnogg6raB6riI7ZWcIOu2gOu2hOydtCDsnojsnLzsi6DqsIDsmpQ/JztcbiAgfVxuICBcbiAgaWYgKG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygn7J6l67mEJykgfHwgbWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCfsi6DrsJwnKSB8fCBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3Nob2VzJykgfHwgbWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdnZWFyJykpIHtcbiAgICByZXR1cm4gJ+yii+ydgCDrn6zri50g7J6l67mE64qUIOqyve2XmOydhCDtgazqsowg7Zal7IOB7Iuc7YK164uI64ukLiDqsIDsnqUg7KSR7JqU7ZWcIOqyg+ydgCDsnpDsi6DsnZgg67CcIO2Yle2DnOyZgCDrn6zri50g7Iqk7YOA7J287JeQIOunnuuKlCDrn6zri53tmZTsnoXri4jri6QuIOyghOusuCDrn6zri50g66ek7J6l7JeQ7IScIOuwnCDrtoTshJ0oZ2FpdCBhbmFseXNpcynsnYQg67Cb7JWE67O064qUIOqyg+ydhCDstpTsspztlanri4jri6QuIOq4sOuKpeyEsSDsnZjrpZjripQg65WAIOuwsOy2nOydtCDsnpgg65CY64qUIOyGjOyerOqwgCDsoovsnLzrqbAsIOqzhOygiOyXkCDrp57ripQg66CI7J207Ja066eB7J20IOykkeyalO2VqeuLiOuLpC4g65iQ7ZWcIOyepeqxsOumrCDrn6zri50g7Iuc7JeQ64qUIOyImOu2hOqzvCDsmIHslpEg67O07Lap7J2EIOychO2VnCDrsqjtirjrgpgg7IiY67aEIO2MqeuPhCDqs6DroKTtlbTrs7TshLjsmpQuIOyWtOuWpCDsooXrpZjsnZgg7J6l67mE7JeQIOq0gOyLrOydtCDsnojsnLzsi6DqsIDsmpQ/JztcbiAgfVxuICBcbiAgLy8g7J2867CY7KCB7J24IOufrOuLnSDqtIDroKgg7KeI66y4XG4gIGlmIChtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ+ufrOuLnScpIHx8IG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygn64us66as6riwJykgfHwgbWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdydW5uaW5nJykgfHwgbWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdqb2dnaW5nJykpIHtcbiAgICByZXR1cm4gJ+ufrOuLneydgCDsi6DssrTsoIEsIOygleyLoOyggSDqsbTqsJXsl5Ag66ek7JqwIOyii+ydgCDsmrTrj5nsnoXri4jri6QuIOyii+ydgCDrn6zri50g6rOE7ZqN7J2EIOyEuOyasOq4sCDsnITtlbTshJzripQg7ZiE7J6sIOyytOugpSDsiJjspIAsIOuqqe2RnCwg6rCA7JqpIOyLnOqwhOydhCDqs6DroKTtlbTslbwg7ZWp64uI64ukLiDstIjrs7TsnpDrnbzrqbQg7KO8IDPtmowsIOqwgSAyMC0zMOu2hOu2gO2EsCDsi5zsnpHtlZjsl6wg7KCQ7KeE7KCB7Jy866GcIOuKmOugpOqwgOuKlCDqsoPsnbQg7KKL7Iq164uI64ukLiDsoJXquLDsoIHsnbgg65+s64ud7J2AIOyLrO2PkCDquLDriqUg6rCV7ZmULCDsiqTtirjroIjsiqQg6rCQ7IaMLCDsiJjrqbQg6rCc7ISgIOuTseydmCDtmqjqs7zqsIAg7J6I7Iq164uI64ukLiDqtazssrTsoIHsnbgg66qp7ZGc64KYIOyniOusuOydtCDsnojsnLzsi5zrqbQg66eQ7JSA7ZW07KO87IS47JqULic7XG4gIH1cbiAgXG4gIGlmIChtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ+qzhO2ajScpIHx8IG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygn7ZSM656cJykgfHwgbWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdwbGFuJykgfHwgbWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdzY2hlZHVsZScpKSB7XG4gICAgcmV0dXJuICftmqjqs7zsoIHsnbgg65+s64udIOqzhO2ajeydgCDrqqntkZwsIO2YhOyerCDssrTroKUg7IiY7KSALCDqt7jrpqzqs6Ag7IOd7ZmcIO2MqO2EtOydhCDqs6DroKTtlbTslbwg7ZWp64uI64ukLiDstIjrs7TsnpDripQg7KO8IDMtNO2ajCwg7KSR6riJ7J6Q64qUIDQtNe2ajCwg6rOg6riJ7J6Q64qUIDUtNu2ajCDtm4jroKjsnbQg7KCB7KCI7ZWp64uI64ukLiDtm4jroKjsnZgg7KKF66WY64+EIOuLpOyWke2ZlO2VmOuKlCDqsoPsnbQg7KKL7Iq164uI64ukOiDquLQg6rGw66asIOuLrOumrOq4sCjstJ0g6rGw66as7J2YIDMwLTQwJSksIO2ajOuztSDri6zrpqzquLAsIOyGjeuPhCDtm4jroKgo7J247YSw67KMLCDthZztj6wg65+wKeydhCDtj6ztlajsi5ztgqTshLjsmpQuIOuYkO2VnCDstZzshowgMS0y7J287J2YIO2ctOyLneydvOydhCDrsJjrk5zsi5wg7Y+s7ZWo7ZW07JW8IO2VqeuLiOuLpC4g7Ja065akIOyImOykgOydmCDrn6zri50g6rOE7ZqN7J20IO2VhOyalO2VmOyLoOqwgOyalD8nO1xuICB9XG4gIFxuICAvLyDquLDrs7gg7J2R64u1XG4gIHJldHVybiAn65+s64udIOqzhO2ajeyXkCDrjIDtlbQg64+E7JuA7J20IO2VhOyalO2VmOyLnOq1sOyalC4g7ZiE7J6sIOuLrOumrOq4sCDqsr3tl5gsIOuqqe2RnCDqsbDrpqwsIOuqqe2RnCDsi5zqsIQg65Ox7J2EIOyVjOugpOyjvOyLnOuptCDrjZQg6rWs7LK07KCB7J24IOqzhO2ajeydhCDshLjsm4zrk5zrprQg7IiYIOyeiOyKteuLiOuLpC4g7Y+J7IaMIOyatOuPmSDruYjrj4Trgpgg6rG06rCVIOyDge2DnOyXkCDrjIDtlbTshJzrj4Qg7JWM66Ck7KO87Iuc66m0IOuPhOybgOydtCDrkKnri4jri6QuIOyWtOuWpCDrtoDrtoTsl5Ag6rSA7Ius7J20IOyeiOycvOyLoOqwgOyalD8nO1xufTtcblxuLy8g66qo7J2YIO2UjOuenCDrjbDsnbTthLAg7IOd7ISxIO2VqOyImFxuZnVuY3Rpb24gY3JlYXRlTW9ja1BsYW5EYXRhKG1lc3NhZ2U6IHN0cmluZykge1xuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICBjb25zdCBmb3JtYXR0ZWREYXRlID0gYCR7bm93LmdldEZ1bGxZZWFyKCl964WEICR7bm93LmdldE1vbnRoKCkgKyAxfeyblCAke25vdy5nZXREYXRlKCl97J28ICgke2dldEtvcmVhbkRheU9mV2Vlayhub3cpfSkg7Jik7KCEIDc6MDBgO1xuICBcbiAgLy8gNWttIOufrOuLnSDtlIzrnpxcbiAgaWYgKG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnNWsnKSB8fCBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJzVrbScpIHx8IFxuICAgICAgKG1lc3NhZ2UuaW5jbHVkZXMoJzUnKSAmJiBtZXNzYWdlLmluY2x1ZGVzKCdrbScpKSkge1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogJ+y0iOuztOyekOulvCDsnITtlZwgNUsg65+s64udIO2UjOuenCcsXG4gICAgICBkYXRlOiBmb3JtYXR0ZWREYXRlLFxuICAgICAgZGlzdGFuY2U6ICc1IGttJyxcbiAgICAgIGR1cmF0aW9uOiAn7JW9IDM167aEJyxcbiAgICAgIGludGVuc2l0eTogJ+qwgOuyvOybgCAtIOykkeqwhCcsXG4gICAgICBkZXRhaWxzOiAn7KSA67mE7Jq064+ZIDXrtoQg4oaSIDXrtoQg7KGw6rmFLzHrtoQg6rG36riwIOuwmOuztSjstJ0gMjXrtoQpIOKGkiDsoJXrpqzsmrTrj5kgNeu2hCdcbiAgICB9O1xuICB9XG4gIFxuICAvLyAxMGttIOufrOuLnSDtlIzrnpxcbiAgaWYgKG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnMTBrJykgfHwgbWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCcxMGttJykgfHwgXG4gICAgICAobWVzc2FnZS5pbmNsdWRlcygnMTAnKSAmJiBtZXNzYWdlLmluY2x1ZGVzKCdrbScpKSkge1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogJ+ykkeq4ieyekOulvCDsnITtlZwgMTBLIOufrOuLnSDtlIzrnpwnLFxuICAgICAgZGF0ZTogZm9ybWF0dGVkRGF0ZSxcbiAgICAgIGRpc3RhbmNlOiAnMTAga20nLFxuICAgICAgZHVyYXRpb246ICfslb0gMeyLnOqwhCcsXG4gICAgICBpbnRlbnNpdHk6ICfspJHqsIQnLFxuICAgICAgZGV0YWlsczogJ+ykgOu5hOyatOuPmSAxMOu2hCDihpIgNTozMC02OjAwL2ttIO2OmOydtOyKpOuhnCAxMGttIOuLrOumrOq4sCDihpIg7KCV66as7Jq064+ZIDXrtoQnXG4gICAgfTtcbiAgfVxuICBcbiAgLy8g6riw67O4IOyjvOunkCDrn6zri50g7ZSM656cXG4gIHJldHVybiB7XG4gICAgdGl0bGU6ICfso7zrp5Ag65+s64udIO2UjOuenCcsXG4gICAgZGF0ZTogZm9ybWF0dGVkRGF0ZSxcbiAgICBkaXN0YW5jZTogJzcga20nLFxuICAgIGR1cmF0aW9uOiAn7JW9IDQ167aEJyxcbiAgICBpbnRlbnNpdHk6ICfspJHqsIQnLFxuICAgIGRldGFpbHM6ICfspIDruYTsmrTrj5kgOOu2hCDihpIgNjowMC9rbSDtjpjsnbTsiqTroZwg7Y647JWI7ZWY6rKMIDdrbSDri6zrpqzquLAg4oaSIOygleumrOyatOuPmSA367aEJ1xuICB9O1xufVxuXG4vLyDtlZzqta3slrQg7JqU7J28IOuzgO2ZmCDtlajsiJhcbmZ1bmN0aW9uIGdldEtvcmVhbkRheU9mV2VlayhkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgY29uc3QgZGF5cyA9IFsn7J28JywgJ+yblCcsICftmZQnLCAn7IiYJywgJ+uqqScsICfquIgnLCAn7YagJ107XG4gIHJldHVybiBkYXlzW2RhdGUuZ2V0RGF5KCldO1xufSAiXSwibmFtZXMiOlsiZ2VuZXJhdGVSdW5uaW5nUGxhbiIsImNvbnZlcnNhdGlvbkhpc3RvcmllcyIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJlbmQiLCJtZXNzYWdlIiwic2Vzc2lvbklkIiwiYm9keSIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJHRU1JTklfQVBJX0tFWSIsIk5FWFRfUFVCTElDX0dFTUlOSV9BUElfS0VZIiwianNvbiIsInRleHQiLCJpZCIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsInNpZCIsImxlbmd0aCIsImZpcnN0TWVzc2FnZSIsInNsaWNlIiwicHVzaCIsInJvbGUiLCJjb25zb2xlIiwibG9nIiwic3Vic3RyaW5nIiwicmVzcG9uc2UiLCJwbGFuRGF0YSIsImFwaUVycm9yIiwiZXJyb3IiLCJFcnJvciIsInN0YWNrIiwibW9ja1Jlc3BvbnNlIiwibW9ja0NoYXRSZXNwb25zZSIsIm1vY2tQbGFuRGF0YSIsImNyZWF0ZU1vY2tQbGFuRGF0YSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJmb3JtYXR0ZWREYXRlIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRLb3JlYW5EYXlPZldlZWsiLCJ0aXRsZSIsImRhdGUiLCJkaXN0YW5jZSIsImR1cmF0aW9uIiwiaW50ZW5zaXR5IiwiZGV0YWlscyIsImRheXMiLCJnZXREYXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/chat.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fchat&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fchat.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();